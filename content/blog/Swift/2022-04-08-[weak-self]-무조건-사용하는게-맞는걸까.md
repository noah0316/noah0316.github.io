---
title: '[weak self] ë¬´ì¡°ê±´ ì‚¬ìš©í•˜ëŠ”ê²Œ ë§ëŠ”ê±¸ê¹Œ? ğŸ¤”'
date: 2022-04-08 20:04:57
category: Swift
thumbnail: { thumbnailSrc }
draft: false
---

<p align="center">
    <img src="assets/2022-04-08/1.png"/>
</p>

í´ë¡œì ¸ì—ì„œ selfë¥¼ ìº¡ì³í•  ë•Œ `[weak self]` ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ëŠ” ìˆœí™˜ ì°¸ì¡°ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´

ì•½í•œ ì°¸ì¡°ë¡œ í´ë¡œì ¸ ë‚´ë¶€ì—ì„œ í•´ë‹¹ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì‚¬ìš©í• ë•Œ ì…ë‹ˆë‹¤.

> í´ë¡œì ¸ì—ì„œ ì•½í•œ ì°¸ì¡°ë¥¼ ì´ìš©í•´ íŠ¹ì • ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìº¡ì³í•˜ì§€ ì•Šìœ¼ë©´ (ì—¬ê¸°ì„œëŠ” selfë¥¼ ìº¡ì³í•œë‹¤ê³  ê°€ì •)  
> selfê°€ í•´ì œë  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¬ê³  selfëŠ” í´ë¡œì ¸ê°€ í•´ì œë  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¬ëŠ” strong reference cycle  
> ìƒí™©ì„ ë§Œë“¤ì–´ ë‚´ê²Œ ë©ë‹ˆë‹¤. ì´ëŸ¬í•œ ìƒí™©ì„ í•´ê²°í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ `[weak self]`ì…ë‹ˆë‹¤.

> ë”°ë¼ì„œ í´ë¡œì ¸ì—ì„œ íŠ¹ì • ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìº¡ì³í•  ë•Œ ì•½í•œ ì°¸ì¡°(ex. `[weak self]`)
> ë¥¼ í•˜ëŠ” ì´ìœ ëŠ” Retain Cycle(ìˆœí™˜ ì°¸ì¡°)ë¡œ ì¸í•œ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜(memory leak)ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•©ë‹ˆë‹¤.

ê·¸ë™ì•ˆ ì €ëŠ” í´ë¡œì ¸ ë‚´ë¶€ì—ì„œ í•´ë‹¹ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì‚¬ìš©í•  ë•ŒëŠ” ëŒ€ë¶€ë¶„ `[weak self]`ë¥¼ ì´ìš©í•´

selfë¥¼ ìº¡ì³í•´ í´ë¡œì ¸ ë‚´ë¶€ì—ì„œ í•´ë‹¹ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì‚¬ìš©í–ˆì—ˆëŠ”ë°ìš”,

ê³¼ì—° í´ë¡œì ¸ ë‚´ë¶€ì—ì„œ í•´ë‹¹ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìº¡ì³í•  ë•Œ

ëª¨ë“  ê²½ìš°ì— `[weak self]`ë¥¼ ì´ìš©í•œ ì•½í•œ ì°¸ì¡°ê°€ í•„ìš”í•œì§€ ì´ë²ˆ ê¸°íšŒë¥¼ í†µí•´ ê°™ì´ ì•Œì•„ë³´ë„ë¡ í•©ì‹œë‹¤.

## ê·¸ì „ì—..

### `[unowned self]` ë¥¼ ì´ìš©í•´ ë¹„ ì†Œìœ  ì°¸ì¡°ë¥¼ í•˜ë©´ ì•ˆ ë˜ë‚˜ìš”?ğŸ§

**`unowned`**ë¥¼ ì´ìš©í•´ ë¹„ ì†Œìœ  ì°¸ì¡°ë¥¼ í•˜ëŠ” ë°©ì‹ì€ ìœ„ì™€ ê°™ì€ ìˆœí™˜ ì°¸ì¡°ë¥¼ í”¼í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë°©ë²• ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤.

> ë¹„ ì†Œìœ  ì°¸ì¡°ë¥¼ í•˜ê¸° ë•Œë¬¸ì— Reference Countë¥¼ ì¦ê°€ì‹œí‚¤ì§€ ì•ŠìŠµë‹ˆë‹¤.

í•˜ì§€ë§Œ **`unowned`**ì€ ê°’ì´ ìˆìŒì„ ê°€ì •í•˜ê³  ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— selfë¥¼Â **ê°•ì œë¡œ unwrapping**í•˜ê³ Â **í• ë‹¹ì´ í•´ì œëœ í›„(deallocate)**ì—ë„Â **ë‚´ìš©ì— ì•¡ì„¸ìŠ¤**í•˜ë ¤ê³  í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì—,Â **unowned**ì€ selfì˜ ìƒëª…ì£¼ê¸°ë¥¼ ê³ ë ¤í•˜ì—¬ ì‚¬ìš©í•´ì•¼í•©ë‹ˆë‹¤.

> `unowned`ë¡œ ì°¸ì¡°í•œ ê°’ì´ nilì¸ë° ì ‘ê·¼í•˜ë ¤ í•œë‹¤ë©´ runtimeì— crashê°€ ë°œìƒí•  ê²ƒì…ë‹ˆë‹¤.

ë”°ë¼ì„œ ì™„ë²½í•˜ê²Œ selfì˜ ìƒëª…ì£¼ê¸°ë¥¼ ê³ ë ¤í•˜ì§€ ì•Šì€ ìƒí™©ì´ë¼ë©´

**`[weak self]`**ë¥¼ ì´ìš©í•´ ì•ˆì „í•œ ë°©ì‹ìœ¼ë¡œ ìˆœí™˜ ì°¸ì¡°ë¥¼ í”¼í•  ìˆ˜ ìˆê²Œ í•˜ëŠ” ê²ƒì´ ì¢‹ì„ ê²ƒì…ë‹ˆë‹¤.

## 3ê°œì˜ ì˜ˆì œë¥¼ ë³´ë©° ìƒê°í•´ë´…ì‹œë‹¤.

```swift
class ViewModel {

    func format(_ value: Int) -> String { /* some logic here... */ }

    var handler: ((Int) -> Void)? = nil

    func code() {
        // 1st example
        let formatted = [1, 2, 3].map { [weak self] value in
            return self?.format(value)
        }
        print(formatted)

        // 2nd example
        DispatchQueue.main.asyncAfter(deadline: .now() + 2) { [weak self] in
            let formatted = self?.format(42)
            print(formatted as Any)
        }

        // 3rd example
        handler = { [weak self] value in
            let formatted = self?.format(value)
            print(formatted as Ant)
        }
    }
}
```

ì²« ë²ˆì§¸ ì˜ˆì œëŠ” mapì˜ ì¸ìë¡œ ì „ë‹¬í•˜ëŠ” í´ë¡œì ¸ì´ê³ ,

ë‘ ë²ˆì§¸ ì˜ˆì œëŠ” DispatchQueue.main.asyncAfterë¡œ ì¸ìë¡œ ì „ë‹¬í•˜ëŠ” í´ë¡œì ¸ì…ë‹ˆë‹¤.

ë§ˆì§€ë§‰ìœ¼ë¡œ ì„¸ ë²ˆì§¸ ì˜ˆì œëŠ” í”„ë¡œí¼í‹°ì— ì €ì¥ë˜ëŠ” í´ë¡œì ¸ì…ë‹ˆë‹¤.(Stored in a property)

> ì¼ê¸‰í•¨ìˆ˜ íŠ¹ì„± ì´ìš©
> ì¼ê¸‰í•¨ìˆ˜ì— ëŒ€í•´ ì•Œì•„ë³´ê³  ì‹¶ìœ¼ì‹œë‹¤ë©´ ì•„ë˜ì˜ ë§í¬ë¥¼ ì°¸ì¡°í•´ì£¼ì„¸ìš”!  
> ë§í¬ : [Swiftì˜ í•¨ìˆ˜ëŠ” ì¼ê¸‰í•¨ìˆ˜ì¸ê°€?](https://noah0316.github.io/Swift/2021-02-09-swift%EC%9D%98-%ED%95%A8%EC%88%98%EB%8A%94-%EC%9D%BC%EA%B8%89%ED%95%A8%EC%88%98%EC%9D%B8%EA%B0%80/)

ì„¸ ê°€ì§€ ì˜ˆì œì—ì„œ ì‹¤ì œë¡œ `[weak self]` í•„ìš”í•˜ì§€ ì•Šì„ ìˆ˜ë„ ìˆì§€ë§Œ ëª¨ë‘ `[weak self]`ë¥¼ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤.

### ìƒê°í•´ë´…ì‹œë‹¤ ğŸ§

ì‹œì‘í•˜ê¸° ì „ì— ëª‡ ë²ˆ ì˜ˆì œê°€ `[weak self]`ë¥¼ ì •ë§ í•„ìš”ë¡œ í•˜ëŠ” ì˜ˆì œì¼ê¹Œìš”?

```swift
class ViewModel {

    func format(_ value: Int) -> String { /* some logic here... */ }

    var handler: ((Int) -> Void)? = nil

    func code() {
        // 1st example
        let formatted = [1, 2, 3].map { [weak self] value in
            return self?.format(value)
        }
        print(formatted)

        // 2nd example
        DispatchQueue.main.asyncAfter(deadline: .now() + 2) { [weak self] in
            let formatted = self?.format(42)
            print(formatted as Any)
        }

        // 3rd example
        handler = { [weak self] value in
            let formatted = self?.format(value)
            print(formatted as Ant)
        }
    }
}
```

ê·¸ë¦¬ê³ , ëª‡ ë²ˆ ì˜ˆì œê°€ `[weak self]`ë¥¼ ì“¸ í•„ìš”ê°€ ì—†ì„ê¹Œìš”?

> ì´ë¯¸ ë‹¤ ì•Œê³  ê³„ì‹ ë‹¤ë©´ ì´ë²ˆ ê²Œì‹œê¸€ì€ Skip í•˜ì‹œëŠ” ê±¸ë¡œ...!!

1ë²ˆ ì˜ˆì œë¶€í„° ì‹œì‘í•´ë´…ì‹œë‹¤.

```swift
class ViewModel {

    func format(_ value: Int) -> String { /* some logic here... */ }

    var handler: ((Int) -> Void)? = nil

    func code() {
        // 1st example
        let formatted = [1, 2, 3].map { [weak self] value in
            return self?.format(value)
        }
        print(formatted)
    }
}
```

ì—¬ê¸°ì„  ê³¼ì—° ì •ë§ë¡œ `[weak self]` ì•½í•œ ì°¸ì¡°ê°€ í•„ìš”í• ê¹Œìš”?

1ë²ˆ ì˜ˆì œëŠ” [weak self]ë¥¼ ì‚¬ìš©í•  í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤.

mapì˜ signatureë¥¼ ë³´ë©° ì´í•´í•´ë´…ì‹œë‹¤.

```swift
/// Returns an array containing the results of mapping the given closure
/// over the sequence's elements.
///
/// In this example, `map` is used first to convert the names in the array
/// to lowercase strings and then to count their characters.
///
///     let cast = ["Vivien", "Marlon", "Kim", "Karl"]
///     let lowercaseNames = cast.map { $0.lowercased() }
///     // 'lowercaseNames' == ["vivien", "marlon", "kim", "karl"]
///     let letterCounts = cast.map { $0.count }
///     // 'letterCounts' == [6, 6, 3, 4]
///
/// - Parameter transform: A mapping closure. `transform` accepts an
///   element of this sequence as its parameter and returns a transformed
///   value of the same or of a different type.
/// - Returns: An array containing the transformed elements of this
///   sequence.
@inlinable public func map<T>(_ transform: (Element) throws -> T) rethrows -> [T]
```

mapì˜ ì¸ìë¡œ ì „ë‹¬í•œ í´ë¡œì ¸ëŠ” @escaping ì†ì„±ì„ ê°€ì§€ê³  ìˆì§€ ì•ŠìŠµë‹ˆë‹¤.

ìš°ë¦¬ê°€ `[weak self]`ë¥¼ ì‚¬ìš©í• ì§€ ë§ì§€ ì„ íƒí•  í•„ìš”ê°€ ìˆì„ ë•Œë§ˆë‹¤ ì´ë¥¼ ì•Œì•„ì°¨ë¦¬ëŠ” ê²ƒì´ ë§¤ìš° ì¤‘ìš”í•©ë‹ˆë‹¤.

> escaping í´ë¡œì ¸ì— ëŒ€í•´ ì•Œì•„ë³´ê³  ì‹¶ìœ¼ì‹œë‹¤ë©´ í•´ë‹¹ ë§í¬ë¥¼ ì°¸ì¡°í•´ì£¼ì„¸ìš”!  
> ë§í¬ : [https://hcn1519.github.io/articles/2017-09/swift_escaping_closure](https://hcn1519.github.io/articles/2017-09/swift_escaping_closure)

í´ë¡œì ¸ê°€ Escaping í´ë¡œì ¸ê°€ ì•„ë‹ˆë¼ë©´,

ì»´íŒŒì¼ëŸ¬ëŠ” methodê°€ ì¢…ë£Œë˜ê³  ë‚˜ì„œ í•´ë‹¹ í´ë¡œì ¸ê°€ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ê²ƒì„ í™•ì¸í•©ë‹ˆë‹¤.

ì´ ë§ì¸ì¦‰ìŠ¨ mapì´ ì¢…ë£Œëœ í›„, ë‹¤ì‹œ mapì„ í˜¸ì¶œí•œ ê³³ìœ¼ë¡œ ëŒì•„ì˜¤ë©´ ì¸ìë¡œ ì „ë‹¬í•œ í´ë¡œì ¸ëŠ” ë” ì´ìƒ ë©”ëª¨ë¦¬ì— ì˜¬ë¼ê°€ ìˆì§€ ì•Šì„ ê²ƒì´ë¼ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.

ë”°ë¼ì„œ Escaping í´ë¡œì ¸ë¥¼ ë‹¤ë£¨ì§€ ì•Šì„ ë•ŒëŠ”, [weak self]ë¥¼ ì´ìš©í•´ ì•½í•œ ì°¸ì¡°ë¥¼ ì“¸ í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤.

ì™œëƒí•˜ë©´ non escaping closureì—ì„œëŠ” Retain Cycle(ìˆœí™˜ ì°¸ì¡°)ë¥¼ ë§Œë“¤ ìˆ˜ ì—†ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.

ì´ë¥¼ Swift ì»´íŒŒì¼ëŸ¬ ë˜í•œ ì•Œê³  ìˆê¸° ë•Œë¬¸ì— ë‹¤ìŒê³¼ ê°™ì´ ì½”ë“œë¥¼ ë³€ê²½í•´ë„ ì»´íŒŒì¼ëŸ¬ëŠ” Retain Cycleì´ ìƒì„±ë  ìœ„í—˜ì´ ì—†ë‹¤ëŠ” ê²ƒì„ ì•Œê¸° ë•Œë¬¸ì— ê²½ê³ ë¥¼ ë‚´ì§€ ì•ŠìŠµë‹ˆë‹¤.

ë”°ë¼ì„œ Swift 5.3 ë²„ì „ ì´ìƒë¶€í„° ì‚¬ìš© ê°€ëŠ¥í•œ Implicit strong captureë¥¼ ì‚¬ìš©í•´

selfë¥¼ ëª…ì‹œì ìœ¼ë¡œ ìº¡ì³í•  í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤.

> Implicit Strong CaptureëŠ”
>
> 1. ì‚¬ìš©ìê°€ ì´ë¯¸ ì˜ë„ë¥¼ ëª…ì‹œí–ˆê±°ë‚˜,
> 2. Strong reference cycleì´ ë°œìƒí•  ê°€ëŠ¥ì„±ì´ ì—†ëŠ” ìƒí™©ì—ì„œë§Œ ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤.

**Swift 5.3 Implicit Strong Capture ë§í¬** :[https://github.com/apple/swift-evolution/blob/main/proposals/0269-implicit-self-explicit-capture.md](https://github.com/apple/swift-evolution/blob/main/proposals/0269-implicit-self-explicit-capture.md)

```swift
class ViewModel {

	func format(_ value: Int) -> String { /* some logic here... */ }

	func code() {
		// 1st example
		let formatted = [1, 2, 3].map { value in
		return format(value)
	}
}
```

ë”°ë¼ì„œ 1ë²ˆ ì˜ˆì œëŠ” `[weak self]`ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì•„ë„ ë©ë‹ˆë‹¤.

ì ì´ì œ ë­‰ì¹œ ì–´ê¹¨ë„ ì¢€ í’€ì–´ì£¼ì‹œê³ ..(ë¨¼ ì‚°..)

<p align="center">
    <img src="assets/2022-04-08/2.jpeg"/>
</p>

## 2ë²ˆ ì˜ˆì œë¥¼ ë´…ì‹œë‹¤.

```swift
class ViewModel {

    func format(_ value: Int) -> String { }

    var handler: ((Int) -> Void)? = nil

    func code() {
        // 2nd example
        DispatchQueue.main.asyncAfter(deadline: .now() + 2) { [weak self] in
            let formatted = self?.format(42)
            print(formatted as Any)
        }
		}
}

```

ì²« ë²ˆì§¸ ì˜ˆì œì™€ ê°™ì€ ë°©ì‹ìœ¼ë¡œ `DispatchQueue.main.asyncAfter(deadline:execute:)` ì˜

Signatureë¥¼ ì‚´í´ë³´ëŠ” ë°©ì‹ìœ¼ë¡œ ì ‘ê·¼í•´ë³´ê² ìŠµë‹ˆë‹¤.

```swift
		///
    /// Submits a work item to a dispatch queue for asynchronous execution after
    /// a specified time.
    ///
    /// - parameter: deadline the time after which the work item should be executed,
    /// given as a `DispatchTime`.
    /// - parameter qos: the QoS at which the work item should be executed.
    ///	Defaults to `DispatchQoS.unspecified`.
    /// - parameter flags: flags that control the execution environment of the
    /// work item.
    /// - parameter execute: The work item to be invoked on the queue.
    /// - SeeAlso: `async(execute:)`
    /// - SeeAlso: `asyncAfter(deadline:execute:)`
    /// - SeeAlso: `DispatchQoS`
    /// - SeeAlso: `DispatchWorkItemFlags`
    /// - SeeAlso: `DispatchTime`
    ///
    public func asyncAfter(deadline: DispatchTime, qos: DispatchQoS = .unspecified, flags: DispatchWorkItemFlags = [], execute work: @escaping @convention(block) () -> Void)
```

ì´ë²ˆì—ëŠ” í´ë¡œì ¸ê°€ ì¸ìë¡œì¨ @escaping í´ë¡œì ¸(execute work: @escaping @convention(block) () -> Void))ë¡œ ì „ë‹¬ë©ë‹ˆë‹¤.

ì´ëŸ° ê²½ìš°ë¥¼ ì£¼ì˜í•´ì•¼ í•˜ëŠ”ë°ìš”,

Escaping í´ë¡œì ¸ëŠ” í´ë¡œì ¸ê°€ í•´ë‹¹ ë©”ì†Œë“œê°€ ì¢…ë£Œëœ ì´í›„ì—ë„ ë©”ëª¨ë¦¬ì— ë‚¨ì•„ ìˆì„ ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.

> ë˜í•œ, ì´ í´ë¡œì ¸ê°€ ë©”ëª¨ë¦¬ì— ì–¼ë§ˆë‚˜ ë‚¨ì•„ìˆì„ì§€ëŠ” ëª¨ë¦…ë‹ˆë‹¤.

Escaping í´ë¡œì ¸ì—ì„œëŠ” ë‹¤ìŒ ë‘ ê°€ì§€ ìƒí™©ì„ ë§Œì¡±í•  ë•Œ `[weak self]`ë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´  
Retain Cycle(ìˆœí™˜ ì°¸ì¡°) ì´ ìƒê¸¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

1. í´ë¡œì ¸ê°€ ê°ì²´ì˜ propertyì— ì €ì¥ë˜ê±°ë‚˜ ë‹¤ë¥¸ í´ë¡œì €ë¡œ ì „ë‹¬ë  ê²½ìš°
2. í´ë¡œì ¸ ì•ˆì— ìˆëŠ” ê°ì²´ê°€ í´ë¡œì ¸(í•´ë‹¹ í´ë¡œì ¸ í˜¹ì€ ì „ë‹¬ ë°›ì€ í´ë¡œì ¸)ì— ëŒ€í•œ ê°•í•œ ì°¸ì¡°ë¥¼ ìœ ì§€í•˜ëŠ” ê²½ìš°

ì½”ë“œë¥¼ ë‹¤ì‹œ ë´…ì‹œë‹¤.

```swift
class ViewModel {

    func format(_ value: Int) -> String { /* some logic here... */ }

    var handler: ((Int) -> Void)? = nil

    func code() {
        // 2nd example
        DispatchQueue.main.asyncAfter(deadline: .now() + 2) { [weak self] in
            let formatted = self?.format(42)
            print(formatted as Any)
        }
		}
}
```

ê·¸ë ‡ë‹¤ë©´ ì´ ì¹œêµ¬ëŠ” @escaping í´ë¡œì ¸ë¡œ ì „ë‹¬ë˜ëŠ” í´ë¡œì ¸ë‹ˆ `[weak self]` ë¥¼ ì´ìš©í•´ ì•½í•œ ì°¸ì¡°ë¥¼ í•´ì£¼ì–´ì•¼ í• ê¹Œìš”?

**ì •ë‹µë¶€í„° ë§í•˜ìë©´ ì•„ë‹™ë‹ˆë‹¤.**

ì—¥...

ì´ìœ ë¥¼ ì‚´í´ë´…ì‹œë‹¤!

`DispatchQueue.main.asyncAfter(deadline: .now() + 2)`ë¥¼ ì´ìš©í•´

í˜„ì¬ ì‹œê°ìœ¼ë¡œë¶€í„° 2ì´ˆ í›„ì— ì¸ìë¡œ ì „ë‹¬í•œ í´ë¡œì ¸ë¥¼ ì‹¤í–‰í•˜ë„ë¡ í•˜ì˜€ìŠµë‹ˆë‹¤.

ì´ ìƒí™©ì—ì„œ ì´ í´ë¡œì ¸ëŠ” 2ì´ˆ ë™ì•ˆ ë©”ëª¨ë¦¬ì— ìœ ì§€ë©ë‹ˆë‹¤.

ì´ëŠ” ìœ„ì˜ ì¸ìë¡œ ì „ë‹¬í•œ í´ë¡œì ¸ì—ì„œ `[weak self]`ë¥¼ ì§€ìš¸ ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.

Closureì˜ ì‹¤í–‰ì´ ëë‚œ í›„ì— Closureê°€ ë©”ëª¨ë¦¬ì—ì„œ ì œê±°ë˜ê¸° ë•Œë¬¸ì— Retain Cycle(ì°¸ì¡° ì‚¬ì´í´)ì„ ìƒì„±í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

**ë”°ë¼ì„œ ì´ ìƒí™©ì—ì„œëŠ” Strong Captureê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.**

ì´ëŠ” GCDì™€ ê´€ë ¨ì´ ìˆëŠ”ë°ìš”, ì´ì™€ ê´€ë ¨í•œ ì¢‹ì€ í¬ìŠ¤íŠ¸ê°€ ìˆì–´ ê³µìœ í•´ ë“œë¦½ë‹ˆë‹¤.

ë§í¬ : [iOS - GCD what the \_\_weak is going on?](https://medium.com/rocknnull/ios-gcd-what-the-weak-is-going-on-d5a10fc682a)

ë§í¬ : [Dispatch Queues](https://developer.apple.com/library/archive/documentation/General/Conceptual/ConcurrencyProgrammingGuide/OperationQueues/OperationQueues.html#//apple_ref/doc/uid/TP40008091-CH102-SW11)

GCDí˜¸ì¶œì€ ë‚˜ì¤‘ì— ì‹¤í–‰í•˜ê¸° ìœ„í•´ ì†ì„±(property)ì— ì €ì¥í•˜ì§€ ì•ŠëŠ” í•œ retain cycle(ìˆœí™˜ ì°¸ì¡°)ì˜ ìœ„í—˜ì´ ì—†ìŠµë‹ˆë‹¤.

ë˜í•œ GCDì™€ ë§ˆì°¬ê°€ì§€ë¡œ **`UIView.Animate` , `UIViewPropertyAnimator`** ì™€ ê°™ì€ animation call ì—­ì‹œ

ì†ì„±(property)ì— ì €ì¥í•˜ì§€ ì•ŠëŠ” í•œ retain cycle(ìˆœí™˜ ì°¸ì¡°)ì˜ ìœ„í—˜ì´ ì—†ìŠµë‹ˆë‹¤.

<p align="center">
    <img src="assets/2022-04-08/3.png"/>
</p>

ì‚¬ì‹¤ ì´ëŸ° ê²½ìš°ëŠ” ì¢€ **ë³µì¡ ë¯¸ë¬˜**í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**ì™œëƒí•˜ë©´ `[weak self]`ê°€ ì—†ë‹¤ë©´ ì´ ì½”ë“œëŠ” `[weak self]`ê°€ ìˆëŠ” ì½”ë“œì™€ ë‹¤ë¥´ê²Œ ë™ì‘í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.**

ì œê°€ ë§Œë“  ë‹¤ë¥¸ ì˜ˆì œ ì½”ë“œë¥¼ ë”°ë¼ê°€ ë³´ë©° ì™œ ê·¸ëŸ°ì§€ í•œë²ˆ ì´í•´í•´ë´…ì‹œë‹¤.

```swift
import Foundation

// ----- View Model -----

class ViewModel {

    func format(_ value: Int) -> String { return String(value) }

    var handler: ((Int) -> Void)? = nil

    func code() {
        DispatchQueue.main.asyncAfter(deadline: .now() + 2) { [weak self] in
            let formatted = self?.format(42)
            print(formatted as Any)
        }
    }

    deinit {
        print("view Model deinit")
    }
}

// ----- View Controller -----

class ViewController {

    let viewModel: ViewModel

    init() {
        viewModel = ViewModel()
    }

    func someEvent() {
        viewModel.code()
    }

    deinit {
        print("viewController deinit")
    }
}

var viewController: ViewController? = ViewController() // 1
viewController?.someEvent() // 2
viewController = nil // 3
```

ìœ„ì˜ ì½”ë“œì˜ ê²°ê³¼ëŠ” ì–´ë–»ê²Œ ë ê¹Œìš”?

### ë¨¼ì € `[weak self]` ë¥¼ ì´ìš©í•˜ëŠ” ê²½ìš°ë¥¼ ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.

> ì£¼ì„ì— ìˆëŠ” ìˆ«ìë¥¼ í¸ì˜ìƒ 1ë²ˆ ë¼ì¸, 2ë²ˆ ë¼ì¸, 3ë²ˆ ë¼ì¸ì´ë¼ê³  ë¶€ë¥´ê² ìŠµë‹ˆë‹¤.

1ë²ˆ ë¼ì¸ì—ì„œ ViewControllerê°€ ìƒì„±ë˜ë©° viewModelì†ì„±ì´ ViewModel ì¸ìŠ¤í„´ìŠ¤ë¡œ ì´ˆê¸°í™”ë©ë‹ˆë‹¤.

2ë²ˆ ë¼ì¸ì—ì„œ `someEvent()` ë©”ì†Œë“œê°€ í˜¸ì¶œë˜ì–´ ViewModel ì¸ìŠ¤í„´ìŠ¤ì˜ codeê°€ í˜¸ì¶œë  ê²ƒì…ë‹ˆë‹¤.

2ë²ˆ ë¼ì¸ì—ì„œ í˜¸ì¶œí•œ ë©”ì†Œë“œ ë‚´ë¶€ì—ì„œ í˜¸ì¶œí•œ `code()`ë©”ì†Œë“œ ë‚´ë¶€ì—ì„œ `DispatchQueue.main.asyncAfter(deadline:execute:)` ì˜ ì¸ìë¡œ ì „ë‹¬í•œ í´ë¡œì ¸ëŠ” 2ì´ˆ í›„ì— ì‹¤í–‰ë  ê²ƒì…ë‹ˆë‹¤.

```swift
DispatchQueue.main.asyncAfter(deadline: .now() + 2) { [weak self] in
	let formatted = self?.format(42)
	print(formatted as Any)
}
```

2ì´ˆê°€ ì§€ë‚˜ê¸° ì „ì— 3ë²ˆ ë¼ì¸ì—ì„œ viewController ì¸ìŠ¤í„´ìŠ¤ê°€ í• ë‹¹ í•´ì œëœë‹¤ë©´ `ViewController` ì¸ìŠ¤í„´ìŠ¤ê°€ ì†Œìœ í•˜ê³  ìˆëŠ” `ViewModel` ì¸ìŠ¤í„´ìŠ¤ëŠ” ì•½í•œ ì°¸ì¡°ë¡œ ì°¸ì¡°í•˜ê³  ìˆì–´ í•´ì œë˜ê²Œ ë©ë‹ˆë‹¤.

ë”°ë¼ì„œ 2ì´ˆ í›„ì— ì‹¤í–‰ëœ í´ë¡œì ¸ ë‚´ë¶€ì˜ selfëŠ” nilê°’ì„ ê°€ì§€ê²Œ ë©ë‹ˆë‹¤.

ì´ë¥¼ ì´í•´ë¥¼ ë•ê¸°ìœ„í•´ ì‹¤ì œ ì‹¤í–‰ ì˜ìƒìœ¼ë¡œ ë³´ë©´ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

> consoleì„ ì˜ ë´ì£¼ì„¸ìš”!

<p align="center">
    <img src="assets/2022-04-08/4.gif"/>
</p>

### ì´ë²ˆì—ëŠ” [weak self]ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì€ ê²½ìš°ë¥¼ ì‚´í´ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.

```swift
import Foundation

// ----- View Model -----

class ViewModel {

    func format(_ value: Int) -> String { return String(value) }

    var handler: ((Int) -> Void)? = nil

    func code() {
        DispatchQueue.main.asyncAfter(deadline: .now() + 2) {
            let formatted = self.format(42)
            print(formatted as Any)
        }
    }

    deinit {
        print("view Model deinit")
    }
}

// ----- View Controller -----

class ViewController {

    let viewModel: ViewModel

    init() {
        viewModel = ViewModel()
    }

    func someEvent() {
        viewModel.code()
    }

    deinit {
        print("viewController deinit")
    }
}

var viewController: ViewController? = ViewController() // 1
viewController?.someEvent() // 2
viewController = nil // 3
```

> ì½”ë“œëŠ” selfë¥¼ ê°•í•œ ì°¸ì¡°ë¥¼ í•œ ê²ƒ ë§ê³ ëŠ” ì´ì „ê³¼ ë‹¬ë¼ì§„ ê²Œ ì—†ìŠµë‹ˆë‹¤!

2ë²ˆ ë¼ì¸ì—ì„œ í˜¸ì¶œí•œ ë©”ì†Œë“œ ë‚´ë¶€ì—ì„œ í˜¸ì¶œí•œ `code()`ë¥¼ í˜¸ì¶œí•˜ê²Œ ë˜ë©´ ì´ë²ˆì—ë„ ì—­ì‹œ 2ë²ˆ ë¼ì¸ì—ì„œ í˜¸ì¶œí•œ `code()`ë©”ì†Œë“œ ë‚´ë¶€ì—ì„œ`DispatchQueue.main.asyncAfter(deadline:execute:)` ì˜ ì¸ìë¡œ ì „ë‹¬í•œ í´ë¡œì ¸ëŠ” 2ì´ˆ í›„ì— ì‹¤í–‰ë  ê²ƒì…ë‹ˆë‹¤.

2ì´ˆê°€ ì§€ë‚˜ê¸° ì „ì— 3ë²ˆ ë¼ì¸ì—ì„œ viewController ì¸ìŠ¤í„´ìŠ¤ê°€ í• ë‹¹ í•´ì œëœë‹¤ë©´ `ViewController` ì¸ìŠ¤í„´ìŠ¤ê°€ ì†Œìœ í•˜ê³  ìˆëŠ” `ViewModel` ì¸ìŠ¤í„´ìŠ¤ê°€ **ì´ë²ˆì—ëŠ”**

```swift
DispatchQueue.main.asyncAfter(deadline: .now() + 2) {
	let formatted = self.format(42)
	print(formatted as Any)
}
```

ê°•í•œ ì°¸ì¡°ë¡œ ì°¸ì¡°í•˜ê³  ìˆì–´ í•´ì œë˜ì§€ ì•Šê³  `self.format(42)` ê°€ ì›ë˜ ì˜ë„í•œ ëŒ€ë¡œ í• ë‹¹ë˜ê²Œ ë©ë‹ˆë‹¤.

ë”°ë¼ì„œ 2ì´ˆ í›„ì— ì‹¤í–‰ëœ í´ë¡œì ¸ ë‚´ë¶€ì˜ selfëŠ” `ViewModel` ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê°€ë¦¬í‚µë‹ˆë‹¤.

ê·¸ë¦¬ê³  GCD í˜¸ì¶œì€ ë‚˜ì¤‘ì— ì‹¤í–‰í•˜ê¸° ìœ„í•´ ì†ì„±(property)ì— ì €ì¥í•˜ì§€ ì•ŠëŠ” í•œ

Retain Cycle(ìˆœí™˜ ì°¸ì¡°)ì„ ìœ ë°œí•˜ì§€ ì•Šê¸° ë•Œë¬¸ì—

**2ì´ˆê°€ ì§€ë‚œ í›„ì—** `ViewModel` ì¸ìŠ¤í„´ìŠ¤ëŠ” ì •ìƒì ìœ¼ë¡œ í•´ì œë©ë‹ˆë‹¤.

### ì‹¤ì œ ì‹¤í–‰ ì˜ìƒì„ í•œë²ˆ ë³¼ê¹Œìš”?ğŸ§

<p align="center">
    <img src="assets/2022-04-08/5.gif"/>
</p>

ë”°ë¼ì„œ `[weak self]` ë¥¼ ì‚¬ìš©í•˜ëŠ”ì§€ ì•ˆ í•˜ëŠ”ì§€ì— ë”°ë¼ ë‹¤ë¥¸ ë™ì‘ì´ ë°œìƒí•  ìˆ˜ë„ ìˆê³ , ë°œìƒí•˜ì§€ ì•Šì„ ìˆ˜ë„ ìˆê¸° ë•Œë¬¸ì— ì´ëŸ¬í•œ ë¶€ë¶„ì„ Escaping í´ë¡œì ¸ë¥¼ ì „ë‹¬í•  ë•Œ ì£¼ì˜í•´ì•¼í•©ë‹ˆë‹¤.

ë˜í•œ ì´ ë¶€ë¶„ì„ í†µí•´ `self`ì˜ ìƒëª…ì£¼ê¸°ë¥¼ ê³ ë ¤í•´ì•¼ í•¨ì„ ì—¿ë³¼ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.

ë‘ ë²ˆì§¸ ì˜ˆì œì—ì„œ ì–»ì„ ìˆ˜ ìˆëŠ” ê²°ë¡ ì€ `[weak self]` ê°€ ì˜ë¬´ì ì¸ ê²ƒì€ ì•„ë‹ˆì§€ë§Œ, ì‚¬ìš©í•˜ê±°ë‚˜ ì‚¬ìš©í•˜ì§€ ì•Šì„ ë•Œì— ë”°ë¼ ì½”ë“œì˜ ë™ì‘ì„ ë°”ê¿€ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ìš°ë¦¬ëŠ” ê°ë³„íˆ ì£¼ì˜í•˜ë©° ì‚¬ìš©í•´ì•¼í•œë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤.

ë§ˆì§€ë§‰ìœ¼ë¡œ ì„¸ ë²ˆì§¸ ì˜ˆì œë¥¼ ë´…ì‹œë‹¤.

```swift
class ViewModel {

    func format(_ value: Int) -> String { /* some logic here... */ }

    var handler: ((Int) -> Void)? = nil

    func code() {
        // 3rd example
        handler = { [weak self] value in
            let formatted = self?.format(value)
            print(formatted as Ant)
        }
    }
}
```

ì„¸ ë²ˆì§¸ ì˜ˆì œê°€ `[weak self]`ë¥¼ ì‚¬ìš©í•´ì•¼í•˜ëŠ” ëŒ€í‘œì  ì˜ˆì…ë‹ˆë‹¤.

<p align="center">
    <img src="assets/2022-04-08/1.png"/>
</p>

ì—¬ê¸°ì„œëŠ” í´ë¡œì ¸ë¥¼ ViewModel class ì•ˆì— ìˆëŠ” handlerì— ì €ì¥í•©ë‹ˆë‹¤.

> SwiftëŠ” í•¨ìˆ˜ë¥¼ ì¼ê¸‰í•¨ìˆ˜ë¡œì¨ ì·¨ê¸‰í•˜ê¸° ë•Œë¬¸ì— í•¨ìˆ˜ë¥¼ ë³€ìˆ˜, ìƒìˆ˜ì— ì €ì¥ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.

ë§Œì•½ ì´ë¥¼ `[weak self]`ë¥¼ ì´ìš©í•´ ìº¡ì³í•˜ì§€ ì•Šê³ , selfë¥¼ ìº¡ì³ë¥¼ í–ˆë‹¤ë©´

í´ë¡œì ¸ì— ëŒ€í•œ ì°¸ì¡°ê°€ handlerë³€ìˆ˜ì— ì˜í•´ ë¶™ì¡í˜€ìˆê²Œ ë˜ì–´ í´ë¡œì ¸ëŠ” self ì¸ìŠ¤í„´ìŠ¤ê°€ í•´ì œë  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¬ê³ 

self ì¸ìŠ¤í„´ìŠ¤ëŠ” í´ë¡œì ¸ê°€ í•´ì œë  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¬ëŠ” Retain Cycle(ìˆœí™˜ ì°¸ì¡°) ìƒí™©ì„ ë§Œë“¤ì–´ ë‚´ê²Œ ë©ë‹ˆë‹¤.

ë”°ë¼ì„œ ì´ëŸ¬í•œ ìƒí™©ì—ì„œëŠ” `[weak self]`ë¥¼ ì´ìš©í•´ self ì¸ìŠ¤í„´ìŠ¤ì˜ reference countë¥¼ ì¦ê°€ì‹œí‚¤ì§€ ì•Šê²Œ í•˜ëŠ” ê²ƒì´ Retain Cycle(ìˆœí™˜ ì°¸ì¡°) ë¥¼ ë§Œë“¤ì§€ ì•Šê²Œ í•  ê²ƒì…ë‹ˆë‹¤.

**ë§ˆì¹˜ê¸° ì „ì—** ë§ˆì§€ë§‰ìœ¼ë¡œ [weak self]ë¥¼ ì‚¬ìš©í•  ë•Œ `guard let self = self else { return }`ë¡œ ì˜µì…”ë„ ë°”ì¸ë”©í•˜ëŠ” ë°©ì‹ê³¼ ì˜µì…”ë„ ì²´ì´ë‹ ë°©ì‹ì„ ì´ìš©í•˜ëŠ” ë°©ì‹ì˜ ì°¨ì´ë¥¼ ì‚´í´ë´…ì‹œë‹¤.

## guard let self = self else { return } VS self?.some

ì˜µì…”ë„ ë°”ì¸ë”©ìœ¼ë¡œÂ `guard let self = self else { return }`Â ì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš° selfê°€ nilì´ ì•„ë‹ ê²½ìš° selfë¥¼ ì„ì‹œì ìœ¼ë¡œ ê°•í•œ ì°¸ì¡°ë¥¼ í•˜ê²Œ ë©ë‹ˆë‹¤.

ë”°ë¼ì„œ selfê°€ í•´ì œ ë˜ì–´ì•¼ í•˜ëŠ” ìƒí™©ì—ì„œë„ selfì— ëŒ€í•œ reference countê°€ ì¦ê°€ë˜ì—ˆê¸° ë•Œë¬¸ì—

í´ë¡œì €ê°€ ì¢…ë£Œë  ë•Œê¹Œì§€ selfê°€ ì‚´ì•„ìˆê²Œ ë©ë‹ˆë‹¤.

ë°˜ë©´ optional chainingì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš°Â nilì¸ì§€ ì²´í¬ë¥¼ í•˜ê²Œ ë˜ê³ , ê°€ë¦¬í‚¤ëŠ” ëŒ€ìƒì´ nilì¼ ê²½ìš°ì—ëŠ” nilì„ ë°˜í™˜í•˜ê³ , ë‹¤ìŒ ë¼ì¸ìœ¼ë¡œ ë„˜ì–´ê°‘ë‹ˆë‹¤.

ê·¸ ë§ì¸ì¦‰ìŠ¨ selfê°€ ì´ë¯¸ deallocatedëœ ê²½ìš°ì— ë¶ˆí•„ìš”í•œ ì‘ì—…ì„ í•˜ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤.

ë”°ë¼ì„œ ì§€ì—°ëœ í• ë‹¹í•´ì œ(delayed deallocation)ê°€ ë°œìƒí•˜ëŠ” í´ë¡œì € ë“±ì—ì„œ ë¶ˆí•„ìš”í•œ ì‘ì—…ì„ í•˜ì§€ ì•Šê²Œ ë§Œë“¤ ìˆ˜ ìˆì–´ ì¢‹ì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤.

## Summary

ì´ì œ ìš°ë¦¬ê°€ ì‚´í´ë³¸ ê²ƒì„ ìš”ì•½í•´ë´…ì‹œë‹¤.

### Non-escaping closure

Non-escaping í´ë¡œì ¸ëŠ” scope ë‚´ì—ì„œ ì‹¤í–‰ëœë‹¤. ì¦‰, ì½”ë“œë¥¼ ì¦‰ì‹œ ì‹¤í–‰í•˜ê³  ë‚˜ì¤‘ì— ì €ì¥í•˜ê±°ë‚˜ ì‹¤í–‰í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— (ì˜ˆ: mapê³¼ ê°™ì€ ê³ ì°¨ í•¨ìˆ˜)ëŠ” Strong reference cycleì„ ë§Œë“¤ì–´ ë‚¼ ìœ„í—˜ì´ ì—†ìœ¼ë¯€ë¡œÂ **weak ë˜ëŠ” unownedë¥¼ ì‚¬ìš©í•  í•„ìš”ê°€ ì—†ë‹¤.**

### Escaping closure

Escaping í´ë¡œì ¸ëŠ” í´ë¡œì ¸ê°€ í•´ë‹¹ ë©”ì†Œë“œê°€ ì¢…ë£Œëœ ì´í›„ì—ë„ ë©”ëª¨ë¦¬ì— ë‚¨ì•„ ìˆì„ ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤.

> ë˜í•œ, ì´ í´ë¡œì ¸ê°€ ë©”ëª¨ë¦¬ì— ì–¼ë§ˆë‚˜ ë‚¨ì•„ìˆì„ì§€ëŠ” ëª¨ë¥¸ë‹¤.

ë”°ë¼ì„œ Escaping í´ë¡œì ¸ì—ì„œëŠ” ë‹¤ìŒ ë‘ ê°€ì§€ ìƒí™©ì—ì„œ `[weak self]`ë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´  
Retain Cycle(ìˆœí™˜ ì°¸ì¡°) ì´ ìƒê¸¸ ìˆ˜ ìˆë‹¤.

1. í´ë¡œì ¸ê°€ ê°ì²´ì˜ propertyì— ì €ì¥ë˜ê±°ë‚˜ ë‹¤ë¥¸ í´ë¡œì €ë¡œ ì „ë‹¬ë  ê²½ìš°
2. í´ë¡œì ¸ ì•ˆì— ìˆëŠ” ê°ì²´ê°€ í´ë¡œì ¸(í•´ë‹¹ í´ë¡œì ¸ í˜¹ì€ ì „ë‹¬ ë°›ì€ í´ë¡œì ¸)ì— ëŒ€í•œ ê°•í•œ ì°¸ì¡°ë¥¼ ìœ ì§€í•˜ëŠ” ê²½ìš°

í•˜ì§€ë§Œ GCDë‚˜ animation callë“¤ì€ retain cycleì„ ë§Œë“¤ì§€ ì•Šê¸° ë•Œë¬¸ì— ì†ì„±ì— ì €ì¥í•˜ì§€ ì•ŠëŠ” í•œ retain cycle

ì„ ë§Œë“¤ì§€ ì•Šê¸° ë•Œë¬¸ì— ì´ ì¹œêµ¬ë“¤ì€ `[weak self]`ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì•„ë„ ëœë‹¤.

## ê·¸ë ‡ë‹¤ë©´

ì´ˆë°˜ì— ë˜ì§„ ì§ˆë¬¸ì¸ ëª¨ë“  ìƒí™©ì—ì„œ `[weak self]`ë¥¼ ì‚¬ìš©í•´ì•¼ í• ê¹Œ? ì— ëŒ€í•œ ë‹µì€

**"ë°˜ë“œì‹œ ëª¨ë“  ìƒí™©ì—ì„œëŠ” ì•„ë‹ˆë‹¤â€**ì…ë‹ˆë‹¤.

Escaping í´ë¡œì ¸ì—ì„œëŠ” `[weak self]` ë¥¼ ì´ìš©í•´ retain cycleì„ ë§‰ëŠ” ê²ƒì´ ì¢‹ê² ì§€ë§Œ

ë˜ ë¬´ì‘ì • `[weak self]`ë§Œ ì‚¬ìš©í•˜ë‹¤ ë³´ë©´ ì›ë˜ì˜ ì˜ë„ì™€ëŠ” ë‹¤ë¥¸ í˜¸ì¶œ ê²°ê³¼ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ìˆê¸°ì—

`self`ì˜ ìƒëª… ì£¼ê¸°ì— ë”°ë¼ì„œ ì ì ˆíˆ ì‚¬ìš©í•´ ì£¼ë©´ ì¢‹ì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤!

ì½ì–´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤.

ë‹¤ë“¤ ì¦ê±°ìš´ í•œ ì£¼ ë³´ë‚´ì„¸ìš” :)

_ì•„ì§ ëª¨ë¥´ëŠ” ê²ƒì´ ë§ê³  ì•Œì•„ê°€ëŠ” ê³¼ì •ì…ë‹ˆë‹¤. ì˜ëª»ëœ ê²ƒì´ ìˆë‹¤ë©´ ëŒ“ê¸€ë¡œ ë‚¨ê²¨ì£¼ì‹ ë‹¤ë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤!_
ğŸ˜Š

> ì°¸ê³ 
>
> - [You donâ€™t (always) need [weak self]](https://medium.com/@almalehdev/you-dont-always-need-weak-self-a778bec505ef)
> - [iOS â€” GCD what the \_\_weak is going on?](https://medium.com/rocknnull/ios-gcd-what-the-weak-is-going-on-d5a10fc682a#.m70a04j4m)
> - [When do we REALLY need to use [weak self]?](https://www.youtube.com/watch?v=0sOrVoLOf7Q)
> - [Apple - Concurrency Programming Guide](https://developer.apple.com/library/archive/documentation/General/Conceptual/ConcurrencyProgrammingGuide/GCDWorkQueues/GCDWorkQueues.html#//apple_ref/doc/uid/TP40008091-CH103-SW12)

> ì´ë¯¸ì§€ ì¶œì²˜
>
> - [MBC ë¬´í•œë„ì „](https://program.imbc.com/challenge)
