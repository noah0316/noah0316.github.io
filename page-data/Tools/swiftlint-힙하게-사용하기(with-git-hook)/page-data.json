{"componentChunkName":"component---src-templates-blog-post-js","path":"/Tools/swiftlint-힙하게-사용하기(with-git-hook)/","result":{"data":{"site":{"siteMetadata":{"title":"Noah's Dev Log","author":"[SeungHyun]","siteUrl":"https://noah0316.github.io","comment":{"disqusShortName":"","utterances":"noah0316/noah0316.github.io"},"sponsor":{"buyMeACoffeeId":"noah0316"}}},"markdownRemark":{"id":"338cbbc0-fea9-5c52-a6f2-22efceb6ca89","excerpt":"여러분 안녕하세요 Noah입니다:) 오늘은 SwiftLint를 좀 더 효율적으로, Git-Hook과 함께 사용하는 방법에 대해 소개해보려합니다 :) 재밌게봐주세요 👀 먼저 SwiftLint가 처음이신 분들을 위해 잠깐 설명하고 가겠습니다!! 이미 잘 사용하고 계신분들이라면 이 부분은 Skip하셔도 무방합니다! 우리 Swift는 정말 많이 들어봤는데 뒤에붙은 lint는 뭘까요? 위키에서 찾아보면 린트(lint) 또는 린터(linter…","html":"<p>여러분 안녕하세요 Noah입니다:)</p>\n<p>오늘은 <strong>SwiftLint</strong>를 좀 더 효율적으로, <strong>Git-Hook</strong>과 함께 사용하는 방법에 대해 소개해보려합니다 :)</p>\n<p>재밌게봐주세요 👀</p>\n<p align=\"center\">\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 963px;\">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 90.99999999999999%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsSAAALEgHS3X78AAAEPklEQVQ4y22UXUwcVRTHBwpECylFWAK7sCywC0sr1CoEaLUIxQzSpEXRmho/+tDWGBOT6kN5kVrKg+/146EtdKUqVSgUI8Q0Rp76YmIaWsQCs7vALrsz+zGzM7M7+3XneGbWIpje5Jc752buf87/3DOXoqjsrCabvW1/Y31vD32KPvnaB/SbfefoN5BjPe/SDQ0v0La6Rp16+wHaat1PV1TZaHNVHW1BzPhcXWnttdka26jMyN3bZH9+paXtMBzuOAFd3f3QefR1ePHIcWhtfxUs1U1gqrRDRWUDlBttYLY0wj57C9TVN4PV3gz19S1gO/ASWBvanCi2hyoqLCwdcfzITEzdBcfYT2nH2Lg6cuN7nWsjN9Xro9+pN74dV0cd4+rV62Oq4+aEOjnxi3p7elb94daUOj1zl9z57R5cc9xyo2AJVWGpNvA8vwqZkUbU7RB1Z6yRImR7rO0BURRdKFhM7d2Tb1hdWWUUJQE8L5CwlIaAEAe/n9WRJQkIIZBOp3W058dDlGQIBMP6wuamz52lCdbX1BqW//6L8fq8wIV4EuQlCAkyhIUICKIMwUgcItEkKIkUxJMEeG0tLGzhD4RIWJBg0+d35+ZkF1O1VpvB4/UycjQKvCASng/Bo+UVcK6H4P6ff8Di0hI417wQ4gXYcDthfc0NSjINiWQSkskUJBJJPUOW5dy6ZXNlhcHPsoxWDCEiElESwefzg58TwO1iwOPxgNfHgiRFYWN9DTiOg2TqP0Fkp6C1ptrg3fQxaVSUojEiRRWQYwqIchQtpgH3QgL3xNFyLJ4CPoIl4SO6XW3GmGil0Czn7Moqpkwmo4HlOCYej8P6+gbRDkJVVXjyeOK6niFmnsmwrKzMEAgEGEmWgXG6yIbHCwqKax9QFEWfE4kEWswcyv9R4gldEDUygiaTyYDqDBYXfH4WM+QgwIawryQ8JLSEtgSBR2vYImIKgmISwnIKQhKixSFBFwwGgxlBo9GoC8pRGVwuN3F7XODmVrGvvOBB+0IMa5nO9FwiHoO4EgNJSUEUHUlSZMsy+9hyaWkpWg4yy9gqtydnyMzvd2DmwTjM/ToHs3OT8ODRPfCyAmYfQFth3BgGLsAjYR2WC5E0nuiW5acK8g34N6yMOb6CFro51X2yj3T2nSAv93eSjv4j5O3Tx9LvnO4ln374FhkeOEsuDZwhQxfOkEvI0MA5MvDxqdTs1Jj2lzl1wbynd5eGQyHPxStfQ4F2exzqBWsrDZaWbrC0d0NdVw/UdtFID1g6XtlBbScNRQdb4fMr32A54j79csjO3lX03vtnf27v7F0pqXr2obH2ucUK68HF4sp9i4e6jz+8MPTFwvnBywufDA7r8/nPLmdmbe3i8MJHA4P3v7w6ujQ/Pz+NgoXahZiNGBBLHkVVUdvA2FxekGMu353BVJC3A2N+rrnmmQLzv++XaFr/AH/CzVsCRTarAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"1\" title=\"1\" src=\"/static/1dce1bec370a4e4bfc15cba2aff4e7f2/e4a12/1.png\" srcset=\"/static/1dce1bec370a4e4bfc15cba2aff4e7f2/5a46d/1.png 300w,\n/static/1dce1bec370a4e4bfc15cba2aff4e7f2/0a47e/1.png 600w,\n/static/1dce1bec370a4e4bfc15cba2aff4e7f2/e4a12/1.png 963w\" sizes=\"(max-width: 963px) 100vw, 963px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n    </span>\n</p>\n<p>먼저 <strong>SwiftLint</strong>가 처음이신 분들을 위해 잠깐 설명하고 가겠습니다!!</p>\n<p>이미 잘 사용하고 계신분들이라면 이 부분은 Skip하셔도 무방합니다!</p>\n<p>우리 <strong>Swift</strong>는 정말 많이 들어봤는데 뒤에붙은 <strong>lint</strong>는 뭘까요?</p>\n<p>위키에서 찾아보면</p>\n<blockquote>\n<p><strong>린트(lint)</strong> 또는 <strong>린터(linter)</strong>는 소스 코드를 분석하여 프로그램 오류, 버그, 스타일 오류, 의심스러운 구조체에 표시(flag)를 달아놓기 위한 도구들을 가리킨다. 이 용어는 C 언어 소스 코드를 검사하는 유닉스 유틸리티에서 기원한다. -위키 백과-</p>\n</blockquote>\n<p>라고 합니다!!</p>\n<p>다시 말해 여러사람이 짜는 코드를 팀의 컨벤션에 맞추어 <strong>일관된 코드 스타일</strong>로 작성하도록 도와주는 도구 인데요!!</p>\n<p>대표적인 컨벤션 몇개의 링크는 다음과 같습니다!</p>\n<p><a href=\"%5Bhttps://github.com/raywenderlich/swift-style-guide%5D(https://github.com/raywenderlich/swift-style-guide)\">Ray Wenderlich Swift Style Guide</a></p>\n<p><a href=\"%5Bhttps://github.com/StyleShare/swift-style-guide%5D(https://github.com/StyleShare/swift-style-guide)\">Style Share Swift Style Guide</a></p>\n<p><a href=\"%5Bhttps://google.github.io/swift/%5D(https://google.github.io/swift/)\">Google Swift Style Guide</a></p>\n<p>자, 흥미가 좀 생기시나요?!</p>\n<p>Swiftlint를 이번 기회에 처음 알게 되셨다면 이 <a href=\"%5Bhttps://github.com/realm/SwiftLint%5D(https://github.com/realm/SwiftLint)\">링크</a>에 방문해보시는 것을 추천드립니다 :)</p>\n<h1 id=\"swiftlint\" style=\"position:relative;\"><a href=\"#swiftlint\" aria-label=\"swiftlint permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Swiftlint</h1>\n<p>자, 다시 돌아와서 여러분은 Swiftlint 어떻게 사용하고 계시나요?</p>\n<p><img src=\"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/fcf202e4-1369-4ee9-9f5c-590257f82f86/Screen_Shot_2021-10-15_at_3.04.37_AM.png\" alt=\"Screen Shot 2021-10-15 at 3.04.37 AM.png\"></p>\n<p>대부분 Xcode에서 프로젝트의 Build Phases에 쉘 스크립트를 작성한 다음 빌드시에</p>\n<p>경고, 혹은 에러를 띄워 프로젝트에 적용하는데요,</p>\n<blockquote>\n<p>다른 방법으로 사용하고 계시다면 어떻게 사용하시는지 알려주시면 감사하겠습니다 😎</p>\n</blockquote>\n<p><img src=\"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/841decd6-375c-4da9-b0b1-8d98c9956e6f/Screen_Shot_2021-10-15_at_3.29.21_AM.png\" alt=\"Screen Shot 2021-10-15 at 3.29.21 AM.png\"></p>\n<p>현재 force_cast에 대해 error를 내도록 .swiftlint.yml파일에서 설정해주었다고 가정 해보겠습니다.\n그렇다면 error를 내뿜고 빌드가 진행되지 않겠죠?!</p>\n<blockquote>\n<p>지금은 파일이 적어 SwiftLint시간이 체감이 되지않지만\n프로젝트가 정말 정말 커져서 SwiftLint를 돌리게 된다면(파일을 모두 파싱해야하기 때문에)\n빌드 시간 역시 길어지겠죠?</p>\n</blockquote>\n<p>하지만 간단한 코드라고 생각해 빌드를 돌려보지 않고(만약의 만약의 상황…),\n이를 수정후에 이를 그대로 커밋한다면? 설마 커밋이 될까요? (에이.. 커밋 되면 곤란…)</p>\n<p><img src=\"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/d361e9b8-d8b5-4326-9eb5-dc6d9123c22b/Screen_Shot_2021-10-15_at_3.38.20_AM.png\" alt=\"Screen Shot 2021-10-15 at 3.38.20 AM.png\"></p>\n<p>아… 그대로 커밋이 되고 마네요🥲</p>\n<blockquote>\n<p>물론 autocorrection option도 있지만 ⇒ 원치않은 변경을 하지 않기 위해 팀에서 꺼두었다고 가정하겠습니다 :)</p>\n</blockquote>\n<p>이대로 커밋을 한다음에 push를 하게 된다면?</p>\n<h3 id=\"이를-막을-수-있는-방법-어디-없을까요\" style=\"position:relative;\"><a href=\"#%EC%9D%B4%EB%A5%BC-%EB%A7%89%EC%9D%84-%EC%88%98-%EC%9E%88%EB%8A%94-%EB%B0%A9%EB%B2%95-%EC%96%B4%EB%94%94-%EC%97%86%EC%9D%84%EA%B9%8C%EC%9A%94\" aria-label=\"이를 막을 수 있는 방법 어디 없을까요 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>“이를 막을 수 있는 방법 어디 없을까요?”</h3>\n<p>오늘은 위와 같은 상황을 예방하면서도 swiftlint를 적용하는 색다른 방법에 대해 소개해보려합니다 😉</p>\n<p>(많은 삽질을 했습니다…⛏️)</p>\n<p>먼저 이를 위해서는 Git-Hook에 대해 알아야하는데요,</p>\n<p>Git-Hook에 대해 알아봅시다.</p>\n<h1 id=\"git-hook\" style=\"position:relative;\"><a href=\"#git-hook\" aria-label=\"git hook permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Git-Hook</h1>\n<p><img src=\"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/412b00d1-7fe8-47fc-804f-b48be078268a/1_wANzm4UrlW1512ccg0k-Lg.png\" alt=\"1_wANzm4UrlW1512ccg0k-Lg.png\"></p>\n<p>Git-Hook</p>\n<p>먼저 <code class=\"language-text\">git init</code> 명령어를 통해 파일을 형상관리를 하기 시작하면</p>\n<p><img src=\"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/627b269f-3ed0-42c8-93ea-8e5b4c866736/Screen_Shot_2021-10-15_at_3.48.45_AM.png\" alt=\"Screen Shot 2021-10-15 at 3.48.45 AM.png\"></p>\n<p><code class=\"language-text\">.git</code> 이라는 폴더가 생기게 되는데요 이 폴더에 들어가봅시다.</p>\n<p><img src=\"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/7071897b-ffc3-4335-a75a-52206751c350/Screen_Shot_2021-10-15_at_3.51.58_AM.png\" alt=\"Screen Shot 2021-10-15 at 3.51.58 AM.png\"></p>\n<p><code class=\"language-text\">.git</code> 파일에는 파일을 형상관리하기 위한 설정파일들이 많이 들어있습니다.</p>\n<p>그중에서 우리는 Git-Hook에 대해 알아본다고 했는데, 이 친구 뭔가 수상하지 않나요?</p>\n<p>한번 들어가봅시다.</p>\n<p><img src=\"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/50c76180-289d-4d2f-9e93-653297d3f75d/Screen_Shot_2021-10-15_at_3.53.37_AM.png\" alt=\"Screen Shot 2021-10-15 at 3.53.37 AM.png\"></p>\n<h3 id=\"처음보는-되게-많은-파일들이-되게-많은데요\" style=\"position:relative;\"><a href=\"#%EC%B2%98%EC%9D%8C%EB%B3%B4%EB%8A%94-%EB%90%98%EA%B2%8C-%EB%A7%8E%EC%9D%80-%ED%8C%8C%EC%9D%BC%EB%93%A4%EC%9D%B4-%EB%90%98%EA%B2%8C-%EB%A7%8E%EC%9D%80%EB%8D%B0%EC%9A%94\" aria-label=\"처음보는 되게 많은 파일들이 되게 많은데요 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>“처음보는 되게 많은 파일들이 되게 많은데요?🤔”</h3>\n<p>당황할 필요 전혀 없습니다!!(제가 첨에 보고 뭐지…하고 당황해서 ㅎㅎ)</p>\n<p>자, hook을 한국말로 하면 뭘까요?</p>\n<h3 id=\"아왜-갑자기-영어-물어보세요\" style=\"position:relative;\"><a href=\"#%EC%95%84%EC%99%9C-%EA%B0%91%EC%9E%90%EA%B8%B0-%EC%98%81%EC%96%B4-%EB%AC%BC%EC%96%B4%EB%B3%B4%EC%84%B8%EC%9A%94\" aria-label=\"아왜 갑자기 영어 물어보세요 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>“아왜 갑자기 영어 물어보세요…”</h3>\n<p>그래서 준비했습니다.</p>\n<p><img src=\"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/4ee57a51-e690-4648-9812-2e31d71b0aff/Screen_Shot_2021-10-15_at_3.58.03_AM.png\" alt=\"Screen Shot 2021-10-15 at 3.58.03 AM.png\"></p>\n<p>hook은 갈고리를 의미하는데요, 다시 이 사진을 볼까요?</p>\n<p><img src=\"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/412b00d1-7fe8-47fc-804f-b48be078268a/1_wANzm4UrlW1512ccg0k-Lg.png\" alt=\"1_wANzm4UrlW1512ccg0k-Lg.png\"></p>\n<p>Git-Hook</p>\n<p>Git에 낚시바늘이 걸려있죠?</p>\n<p>Git-Hook은 Git을 이용하는 특정시점에 나타나는 이벤트를 낚아채서 특정 스크립트를 사용할 수 있게 해주는데요,</p>\n<p>이 말인 즉슨, Git을 이용하는 특정시점에 나타나는 이벤트를 낚아채서 사용자가 원하는 특정 작업을 실행할 수 있게해줍니다.</p>\n<p>위에 파일이 13개정도 되니 감지할 수 있는 이벤트가 13개나 되나봅니다.</p>\n<h3 id=\"그래서-우리가-하고-싶은게-뭔데요\" style=\"position:relative;\"><a href=\"#%EA%B7%B8%EB%9E%98%EC%84%9C-%EC%9A%B0%EB%A6%AC%EA%B0%80-%ED%95%98%EA%B3%A0-%EC%8B%B6%EC%9D%80%EA%B2%8C-%EB%AD%94%EB%8D%B0%EC%9A%94\" aria-label=\"그래서 우리가 하고 싶은게 뭔데요 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>“그래서 우리가 하고 싶은게 뭔데요?”</h3>\n<p>우리가 하고싶은 작업은</p>\n<p><img src=\"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/841decd6-375c-4da9-b0b1-8d98c9956e6f/Screen_Shot_2021-10-15_at_3.29.21_AM.png\" alt=\"Screen Shot 2021-10-15 at 3.29.21 AM.png\"></p>\n<p>위와 같이 Swiftlint를 만족하지 않으면 commit이 되지 않게하여 일관된 코드를 유지하기를 바랐습니다.</p>\n<p>자 commit이 되지 않게 하려면 commit직전에 호출할 수 있는 스크립트를 찾아야하는데요,</p>\n<p>그때 사용할 수 있는 스크립트가 <code class=\"language-text\">pre-commit</code>이라는 스크립트입니다.</p>\n<p><img src=\"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/a1740e9e-af79-4dfb-b3a8-b826acd3a53d/Screen_Shot_2021-10-15_at_4.13.03_AM.png\" alt=\"Screen Shot 2021-10-15 at 4.13.03 AM.png\"></p>\n<h3 id=\"그렇다면-특정-이벤트에-항상-이-스크립트가-실행되고-있는건가요\" style=\"position:relative;\"><a href=\"#%EA%B7%B8%EB%A0%87%EB%8B%A4%EB%A9%B4-%ED%8A%B9%EC%A0%95-%EC%9D%B4%EB%B2%A4%ED%8A%B8%EC%97%90-%ED%95%AD%EC%83%81-%EC%9D%B4-%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8%EA%B0%80-%EC%8B%A4%ED%96%89%EB%90%98%EA%B3%A0-%EC%9E%88%EB%8A%94%EA%B1%B4%EA%B0%80%EC%9A%94\" aria-label=\"그렇다면 특정 이벤트에 항상 이 스크립트가 실행되고 있는건가요 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>“그렇다면 특정 이벤트에 항상 이 스크립트가 실행되고 있는건가요?”</h3>\n<p>⇒ 그렇지 않습니다. <code class=\"language-text\">.sample</code> 이라는 확장자를 지우게 되면 그 때 부터 스크립트 사용이 가능합니다.</p>\n<p>우리는 이 <code class=\"language-text\">pre-commit</code>이라는 스크립트의 <code class=\"language-text\">.sample</code>이라는 확장자`를 지워 활성화한후에</p>\n<p>스크립트를 작성하여 swiftlint를 통과하지 못하면 commit이 되지 않게 할 예정입니다.</p>\n<p>자 먼저 스크립트를 활성화 해봅시다!</p>\n<p><img src=\"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/6c948e5f-2b8c-4594-bac5-2ae77497ccb4/Screen_Shot_2021-10-15_at_4.16.48_AM.png\" alt=\"Screen Shot 2021-10-15 at 4.16.48 AM.png\"></p>\n<p>아이콘이 바뀌는 모습을 확인할 수 있습니다. 안의 내용을 볼까요?</p>\n<p><img src=\"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/fca60cb8-3d4d-4ff0-b6fd-199c3ede6dcd/Screen_Shot_2021-10-15_at_4.17.53_AM.png\" alt=\"Screen Shot 2021-10-15 at 4.17.53 AM.png\"></p>\n<p>일단 코드내용을 다 지우고, 이 스크립트가 실행되는지 확인하기 위해 내용을 바꿔봅시다.</p>\n<p><img src=\"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/56fc8323-215e-4000-9b70-e960ab3c0a55/Screen_Shot_2021-10-15_at_4.19.34_AM.png\" alt=\"Screen Shot 2021-10-15 at 4.19.34 AM.png\"></p>\n<p>커밋이 될 때 이 스크립트가 호출되니 터미널에는 Hello World! 라는 문자열이 찍혀야 할 것입니다.</p>\n<p><img src=\"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/7a396d52-3949-4dc6-8276-be61cca1bc00/Screen_Shot_2021-10-15_at_4.21.02_AM.png\" alt=\"Screen Shot 2021-10-15 at 4.21.02 AM.png\"></p>\n<p>잘 출력이 되네요!!</p>\n<p>아직 swiftlint를 적용한 후에 커밋을 막는 작업을 해주지 않았기에 커밋은 그대로 진행되고 있네요</p>\n<p><img src=\"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/39d65342-6513-4a85-93f5-f6971b717c5b/Screen_Shot_2021-10-15_at_4.23.28_AM.png\" alt=\"Screen Shot 2021-10-15 at 4.23.28 AM.png\"></p>\n<h2 id=\"엇-그런데\" style=\"position:relative;\"><a href=\"#%EC%97%87-%EA%B7%B8%EB%9F%B0%EB%8D%B0\" aria-label=\"엇 그런데 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>엇 그런데..</h2>\n<p>”<code class=\"language-text\">.git</code>파일은 버전관리에서 무시되는데요?”</p>\n<p>“그렇다면 이 스크립트는 형상관리를 따로하고 팀원 각자가 따로 적용해야하나요?”</p>\n<p>⇒ 이러한 고민을 해결하기 위해 Git 2.9 버전부터 프로젝트/.githooks 폴더를 만든 후에</p>\n<p>hook 이벤트가 발생했을 때 이곳 스크립트를 사용 경로를 설정해주면 <code class=\"language-text\">git</code>을 이용한 형상관리가 가능해집니다.</p>\n<p><img src=\"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/922b0f56-c20e-492f-9034-81f09bba64df/Screen_Shot_2021-10-15_at_4.29.46_AM.png\" alt=\"Screen Shot 2021-10-15 at 4.29.46 AM.png\"></p>\n<p><code class=\"language-text\">git config core.hooksPath .githooks</code></p>\n<p>이 명령어를 이용해 hook 경로를 변경해줍니다.</p>\n<p><img src=\"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/f455a1f3-8ca2-43ad-9bd0-a934e2ffcd64/Screen_Shot_2021-10-15_at_4.39.45_AM.png\" alt=\"Screen Shot 2021-10-15 at 4.39.45 AM.png\"></p>\n<p>그렇다면 커밋을 할 때 이곳의 스크립트가 호출되어야겠죠?</p>\n<p><img src=\"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/659ed6d7-ea90-4211-8d68-ffbf031ff527/Screen_Shot_2021-10-15_at_4.40.43_AM.png\" alt=\"Screen Shot 2021-10-15 at 4.40.43 AM.png\"></p>\n<h3 id=\"잘-호출이-되네요-이곳에서-스크립트를-작성하면-되겠어요-ㅎㅎㅎ\" style=\"position:relative;\"><a href=\"#%EC%9E%98-%ED%98%B8%EC%B6%9C%EC%9D%B4-%EB%90%98%EB%84%A4%EC%9A%94-%EC%9D%B4%EA%B3%B3%EC%97%90%EC%84%9C-%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8%EB%A5%BC-%EC%9E%91%EC%84%B1%ED%95%98%EB%A9%B4-%EB%90%98%EA%B2%A0%EC%96%B4%EC%9A%94-%E3%85%8E%E3%85%8E%E3%85%8E\" aria-label=\"잘 호출이 되네요 이곳에서 스크립트를 작성하면 되겠어요 ㅎㅎㅎ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>잘 호출이 되네요!! 이곳에서 스크립트를 작성하면 되겠어요 ㅎㅎㅎ</h3>\n<h2 id=\"자-이제-핵심입니다\" style=\"position:relative;\"><a href=\"#%EC%9E%90-%EC%9D%B4%EC%A0%9C-%ED%95%B5%EC%8B%AC%EC%9E%85%EB%8B%88%EB%8B%A4\" aria-label=\"자 이제 핵심입니다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>자 이제, 핵심입니다!!</h2>\n<h1 id=\"swiftlint--git-hook\" style=\"position:relative;\"><a href=\"#swiftlint--git-hook\" aria-label=\"swiftlint  git hook permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Swiftlint + Git-hook</h1>\n<p>이제 이곳에서 스크립트로 swiftlint룰을 통과하지 못하면 커밋이 되지 않게 막을건데요,</p>\n<p>열심히 삽질하며 작성한 쉘 스크립트를 넣어줍시다!! (밤 샌건 안 비밀)</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token shebang important\">#!/bin/sh</span>\n<span class=\"token assign-left variable\">LINT</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">which</span> swiftlint<span class=\"token variable\">)</span></span>\n\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span> -e <span class=\"token string\">\"<span class=\"token variable\">${LINT}</span>\"</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span>\n\t<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"🚀  SwiftLint 시작...\"</span>\n\t<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"🔍  lint 적용 경로: <span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token builtin class-name\">pwd</span><span class=\"token variable\">)</span></span>\"</span>\n<span class=\"token keyword\">else</span>\n\t<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"SwiftLint가 존재하지 않습니다, 공식문서를 확인해주세요. 🌐 https://github.com/realm/SwiftLint\"</span>\n\t<span class=\"token builtin class-name\">exit</span> <span class=\"token number\">1</span>\n<span class=\"token keyword\">fi</span>\n\n<span class=\"token assign-left variable\">targets</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">git</span> <span class=\"token function\">diff</span> --stat --cached --diff-filter<span class=\"token operator\">=</span>d --name-only <span class=\"token punctuation\">$(</span>git for-each-ref --format<span class=\"token operator\">=</span><span class=\"token string\">'%(upstream:short)'</span> <span class=\"token punctuation\">$(</span>git symbolic-ref -q HEAD<span class=\"token punctuation\">)</span><span class=\"token variable\">)</span></span> <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> -F <span class=\"token string\">\".swift\"</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> -z <span class=\"token string\">\"<span class=\"token variable\">$targets</span>\"</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span>\n  <span class=\"token builtin class-name\">printf</span> <span class=\"token string\">\"🏷️  Staging Area 파일이 없습니다\"</span>\n  <span class=\"token builtin class-name\">printf</span> <span class=\"token string\">\"<span class=\"token entity\" title=\"\\n\">\\n</span> ✔ git add를 먼저 진행해주세요:)\"</span>\n  <span class=\"token builtin class-name\">exit</span> <span class=\"token number\">1</span>\n<span class=\"token keyword\">fi</span>\n\n<span class=\"token builtin class-name\">export</span> -p <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> SCRIPT_INPUT_FILE\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">SCRIPT_INPUT_FILE_COUNT</span><span class=\"token operator\">=</span><span class=\"token variable\">$count</span>\n<span class=\"token comment\"># lint rule 정의 파일</span>\n<span class=\"token assign-left variable\">RESULT</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span>$LINT lint --quiet --config .swiftlint.yml<span class=\"token variable\">)</span></span>\n\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token string\">\"<span class=\"token variable\">$RESULT</span>\"</span> <span class=\"token operator\">==</span> <span class=\"token string\">''</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span>\n\t<span class=\"token builtin class-name\">printf</span> <span class=\"token string\">\"✨  SwiftLint 적용을 완료했습니다!! 고생하셨습니다:)<span class=\"token entity\" title=\"\\n\">\\n</span>\"</span>\n<span class=\"token keyword\">else</span>\n\t<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"\"</span>\n\t<span class=\"token builtin class-name\">printf</span> <span class=\"token string\">\"✔ SwiftLint Failed 아래 내용을 확인해주세요:<span class=\"token entity\" title=\"\\n\">\\n</span>\"</span>\n  <span class=\"token keyword\">while</span> <span class=\"token builtin class-name\">read</span> -r line<span class=\"token punctuation\">;</span> <span class=\"token keyword\">do</span>\n    <span class=\"token assign-left variable\">FILEPATH</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token builtin class-name\">echo</span> $line <span class=\"token operator\">|</span> <span class=\"token function\">cut</span> -d <span class=\"token builtin class-name\">:</span> -f <span class=\"token number\">1</span><span class=\"token variable\">)</span></span>\n    <span class=\"token assign-left variable\">L</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token builtin class-name\">echo</span> $line <span class=\"token operator\">|</span> <span class=\"token function\">cut</span> -d <span class=\"token builtin class-name\">:</span> -f <span class=\"token number\">2</span><span class=\"token variable\">)</span></span>\n    <span class=\"token assign-left variable\">C</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token builtin class-name\">echo</span> $line <span class=\"token operator\">|</span> <span class=\"token function\">cut</span> -d <span class=\"token builtin class-name\">:</span> -f <span class=\"token number\">3</span><span class=\"token variable\">)</span></span>\n    <span class=\"token assign-left variable\">TYPE</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token builtin class-name\">echo</span> $line <span class=\"token operator\">|</span> <span class=\"token function\">cut</span> -d <span class=\"token builtin class-name\">:</span> -f <span class=\"token number\">4</span> <span class=\"token operator\">|</span> <span class=\"token function\">cut</span> -c <span class=\"token number\">2</span>-<span class=\"token variable\">)</span></span>\n    <span class=\"token assign-left variable\">MESSAGE</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token builtin class-name\">echo</span> $line <span class=\"token operator\">|</span> <span class=\"token function\">cut</span> -d <span class=\"token builtin class-name\">:</span> -f <span class=\"token number\">5</span> <span class=\"token operator\">|</span> <span class=\"token function\">cut</span> -c <span class=\"token number\">2</span>-<span class=\"token variable\">)</span></span>\n    <span class=\"token assign-left variable\">DESCRIPTION</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token builtin class-name\">echo</span> $line <span class=\"token operator\">|</span> <span class=\"token function\">cut</span> -d <span class=\"token builtin class-name\">:</span> -f <span class=\"token number\">6</span> <span class=\"token operator\">|</span> <span class=\"token function\">cut</span> -c <span class=\"token number\">2</span>-<span class=\"token variable\">)</span></span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token variable\">$TYPE</span> <span class=\"token operator\">==</span> <span class=\"token string\">'warning'</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span>\n      <span class=\"token builtin class-name\">printf</span> <span class=\"token string\">\"<span class=\"token entity\" title=\"\\n\">\\n</span> 🚧  <span class=\"token variable\">$TYPE</span><span class=\"token entity\" title=\"\\n\">\\n</span>\"</span>\n      <span class=\"token comment\"># warning 타입은 오류메시지만 표시하고 커밋을 허용하고 싶다면 line 40~42 주석 해제.</span>\n      <span class=\"token comment\"># printf \"    $FILEPATH:$L:$C\\n\"</span>\n      <span class=\"token comment\"># printf \"    📌  $MESSAGE: - $DESCRIPTION\\n\"</span>\n      <span class=\"token comment\"># exit 0</span>\n    <span class=\"token keyword\">elif</span> <span class=\"token punctuation\">[</span> <span class=\"token variable\">$TYPE</span> <span class=\"token operator\">==</span> <span class=\"token string\">'error'</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span>\n      <span class=\"token builtin class-name\">printf</span> <span class=\"token string\">\"<span class=\"token entity\" title=\"\\n\">\\n</span> 🚨  <span class=\"token variable\">$TYPE</span><span class=\"token entity\" title=\"\\n\">\\n</span>\"</span>\n    <span class=\"token keyword\">fi</span>\n    <span class=\"token builtin class-name\">printf</span> <span class=\"token string\">\"    ✔ <span class=\"token variable\">$FILEPATH</span>:<span class=\"token variable\">$L</span>:<span class=\"token variable\">$C</span><span class=\"token entity\" title=\"\\n\">\\n</span>\"</span>\n    <span class=\"token builtin class-name\">printf</span> <span class=\"token string\">\"    📌 <span class=\"token variable\">$MESSAGE</span>: - <span class=\"token variable\">$DESCRIPTION</span><span class=\"token entity\" title=\"\\n\">\\n</span>\"</span>\n  <span class=\"token keyword\">done</span> <span class=\"token operator\">&lt;&lt;&lt;</span> <span class=\"token string\">\"<span class=\"token variable\">$RESULT</span>\"</span>\n\n  <span class=\"token builtin class-name\">printf</span> <span class=\"token string\">\"<span class=\"token entity\" title=\"\\n\">\\n</span> 🚑  커밋실패!! Swiftlint rule에 맞게 코드를 변경해주세요:)<span class=\"token entity\" title=\"\\n\">\\n</span>\"</span>\n  <span class=\"token builtin class-name\">exit</span> <span class=\"token number\">1</span>\n<span class=\"token keyword\">fi</span></code></pre></div>\n<h2 id=\"덕분에\" style=\"position:relative;\"><a href=\"#%EB%8D%95%EB%B6%84%EC%97%90\" aria-label=\"덕분에 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>덕분에</h2>\n<p>쉘 스크립트 공부하며 배웠습니다…</p>\n<p><img src=\"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/f8abcf11-a375-487a-9a9c-d717c7e6815d/Screen_Shot_2021-10-15_at_4.45.00_AM.png\" alt=\"Screen Shot 2021-10-15 at 4.45.00 AM.png\"></p>\n<p>이제 커밋이 되지 않나 한번 확인해볼까요..?(두근)</p>\n<p><img src=\"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/94fe456a-a6b9-4237-9b3d-b6ae7e7f1785/Screen_Shot_2021-10-15_at_4.46.48_AM.png\" alt=\"Screen Shot 2021-10-15 at 4.46.48 AM.png\"></p>\n<p>오 커밋이 되지 않았습니다!!\n근데 메시지를 확인해보니 add를 먼저 해주어야겠네요!!</p>\n<h3 id=\"미안하다이거-보여줄려고-어그로-끌었다\" style=\"position:relative;\"><a href=\"#%EB%AF%B8%EC%95%88%ED%95%98%EB%8B%A4%EC%9D%B4%EA%B1%B0-%EB%B3%B4%EC%97%AC%EC%A4%84%EB%A0%A4%EA%B3%A0-%EC%96%B4%EA%B7%B8%EB%A1%9C-%EB%81%8C%EC%97%88%EB%8B%A4\" aria-label=\"미안하다이거 보여줄려고 어그로 끌었다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>(미안하다..이거 보여줄려고 어그로 끌었다…)</h3>\n<p><img src=\"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/c9758499-1511-4f19-aa2f-f0f79f3784da/Screen_Shot_2021-10-15_at_4.51.13_AM.png\" alt=\"Screen Shot 2021-10-15 at 4.51.13 AM.png\"></p>\n<p><code class=\"language-text\">git add</code> 를 해준뒤에</p>\n<p>커밋을 해볼까요(과연…)</p>\n<h2 id=\"오\" style=\"position:relative;\"><a href=\"#%EC%98%A4\" aria-label=\"오 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>오!</h2>\n<p><img src=\"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/4cd1eae6-2061-4d23-8c46-b9314a629096/Screen_Shot_2021-10-15_at_4.53.04_AM.png\" alt=\"Screen Shot 2021-10-15 at 4.53.04 AM.png\"></p>\n<p>커밋이 진행되지 않았네요!!! 우리가 하려던 작업이 완료되었어요!!</p>\n<p>과연 수정사항을 반영 후에는 커밋이 잘 될까요? 한번 해당라인을 수정한후에 커밋이 되는지 봅시다!!</p>\n<p><img src=\"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/dbbbc4e3-f8ab-45ea-ab7a-4dbb475987d0/Screen_Shot_2021-10-15_at_4.55.10_AM.png\" alt=\"Screen Shot 2021-10-15 at 4.55.10 AM.png\"></p>\n<p>고생했다는 메시지까지… rule을 어긴 부분을 수정하면 커밋이 잘 되는 것 까지 잘 확인했습니다!!</p>\n<h2 id=\"이렇게-사용합니다\" style=\"position:relative;\"><a href=\"#%EC%9D%B4%EB%A0%87%EA%B2%8C-%EC%82%AC%EC%9A%A9%ED%95%A9%EB%8B%88%EB%8B%A4\" aria-label=\"이렇게 사용합니다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>이렇게 사용합니다!</h2>\n<p>아까 위에서 swiftlint를 사용하는 경우를 봤을 때</p>\n<blockquote>\n<p>지금은 파일이 적어 SwiftLint시간이 체감이 되지않지만\n프로젝트가 정말 정말 커져서 SwiftLint를 돌리게 된다면(파일을 모두 파싱해야하기 때문에)\n빌드 시간 역시 길어지겠죠?</p>\n</blockquote>\n<p>라고 했던 부분 기억하시나요?</p>\n<p>만약 빌드시에는 빌드시간을 줄여야하니 .swiftlint.yml의 필수라고 생각하는 rule을 가볍게 가져가고,</p>\n<p>커밋을 할 때는 부가적인 rule을 추가하여 rule을 빡세게 적용하면 SwiftLint를 적용하는 시간을 줄일 수 있겠죠?</p>\n<p>pre-commit의 스크립트를 약간 수정해주면 되는데요,</p>\n<p>먼저 별도의 rule을 만들어줍시다.</p>\n<p><img src=\"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/daded80a-3d6c-4db7-ba8a-22cb5cf94751/Screen_Shot_2021-10-15_at_5.03.07_AM.png\" alt=\"Screen Shot 2021-10-15 at 5.03.07 AM.png\"></p>\n<p>파일 이름은 <code class=\"language-text\">.precommit.yml</code> 로 하겠습니다.</p>\n<p>자 아까 스크립트에서 이부분을 변경해주면 되는데요,</p>\n<p>이 부분을</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># lint rule 정의 파일</span>\n<span class=\"token assign-left variable\">RESULT</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span>$LINT lint --quiet --config .swiftlint.yml<span class=\"token variable\">)</span></span></code></pre></div>\n<p>이렇게</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># lint rule 정의 파일</span>\n<span class=\"token assign-left variable\">RESULT</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span>$LINT lint --quiet --config .precommit.yml<span class=\"token variable\">)</span></span></code></pre></div>\n<p>변경해주면 됩니다 ☺️</p>\n<h2 id=\"스크립트-full-버전\" style=\"position:relative;\"><a href=\"#%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8-full-%EB%B2%84%EC%A0%84\" aria-label=\"스크립트 full 버전 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>스크립트 full 버전</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token shebang important\">#!/bin/sh</span>\n<span class=\"token assign-left variable\">LINT</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">which</span> swiftlint<span class=\"token variable\">)</span></span>\n\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span> -e <span class=\"token string\">\"<span class=\"token variable\">${LINT}</span>\"</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span>\n\t<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"🚀  SwiftLint 시작...\"</span>\n\t<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"🔍  lint 적용 경로: <span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token builtin class-name\">pwd</span><span class=\"token variable\">)</span></span>\"</span>\n<span class=\"token keyword\">else</span>\n\t<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"SwiftLint가 존재하지 않습니다, 공식문서를 확인해주세요. 🌐 https://github.com/realm/SwiftLint\"</span>\n\t<span class=\"token builtin class-name\">exit</span> <span class=\"token number\">1</span>\n<span class=\"token keyword\">fi</span>\n\n<span class=\"token assign-left variable\">targets</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">git</span> <span class=\"token function\">diff</span> --stat --cached --diff-filter<span class=\"token operator\">=</span>d --name-only <span class=\"token punctuation\">$(</span>git for-each-ref --format<span class=\"token operator\">=</span><span class=\"token string\">'%(upstream:short)'</span> <span class=\"token punctuation\">$(</span>git symbolic-ref -q HEAD<span class=\"token punctuation\">)</span><span class=\"token variable\">)</span></span> <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> -F <span class=\"token string\">\".swift\"</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> -z <span class=\"token string\">\"<span class=\"token variable\">$targets</span>\"</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span>\n  <span class=\"token builtin class-name\">printf</span> <span class=\"token string\">\"🏷️  Staging Area 파일이 없습니다\"</span>\n  <span class=\"token builtin class-name\">printf</span> <span class=\"token string\">\"<span class=\"token entity\" title=\"\\n\">\\n</span> ✔ git add를 먼저 진행해주세요:)\"</span>\n  <span class=\"token builtin class-name\">exit</span> <span class=\"token number\">1</span>\n<span class=\"token keyword\">fi</span>\n\n<span class=\"token builtin class-name\">export</span> -p <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> SCRIPT_INPUT_FILE\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">SCRIPT_INPUT_FILE_COUNT</span><span class=\"token operator\">=</span><span class=\"token variable\">$count</span>\n<span class=\"token comment\"># lint rule 정의 파일</span>\n<span class=\"token assign-left variable\">RESULT</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span>$LINT lint --quiet --config .precommit.yml<span class=\"token variable\">)</span></span>\n\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token string\">\"<span class=\"token variable\">$RESULT</span>\"</span> <span class=\"token operator\">==</span> <span class=\"token string\">''</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span>\n\t<span class=\"token builtin class-name\">printf</span> <span class=\"token string\">\"✨  SwiftLint 적용을 완료했습니다!! 고생하셨습니다:)<span class=\"token entity\" title=\"\\n\">\\n</span>\"</span>\n<span class=\"token keyword\">else</span>\n\t<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"\"</span>\n\t<span class=\"token builtin class-name\">printf</span> <span class=\"token string\">\"✔ SwiftLint Failed 아래 내용을 확인해주세요:<span class=\"token entity\" title=\"\\n\">\\n</span>\"</span>\n  <span class=\"token keyword\">while</span> <span class=\"token builtin class-name\">read</span> -r line<span class=\"token punctuation\">;</span> <span class=\"token keyword\">do</span>\n    <span class=\"token assign-left variable\">FILEPATH</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token builtin class-name\">echo</span> $line <span class=\"token operator\">|</span> <span class=\"token function\">cut</span> -d <span class=\"token builtin class-name\">:</span> -f <span class=\"token number\">1</span><span class=\"token variable\">)</span></span>\n    <span class=\"token assign-left variable\">L</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token builtin class-name\">echo</span> $line <span class=\"token operator\">|</span> <span class=\"token function\">cut</span> -d <span class=\"token builtin class-name\">:</span> -f <span class=\"token number\">2</span><span class=\"token variable\">)</span></span>\n    <span class=\"token assign-left variable\">C</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token builtin class-name\">echo</span> $line <span class=\"token operator\">|</span> <span class=\"token function\">cut</span> -d <span class=\"token builtin class-name\">:</span> -f <span class=\"token number\">3</span><span class=\"token variable\">)</span></span>\n    <span class=\"token assign-left variable\">TYPE</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token builtin class-name\">echo</span> $line <span class=\"token operator\">|</span> <span class=\"token function\">cut</span> -d <span class=\"token builtin class-name\">:</span> -f <span class=\"token number\">4</span> <span class=\"token operator\">|</span> <span class=\"token function\">cut</span> -c <span class=\"token number\">2</span>-<span class=\"token variable\">)</span></span>\n    <span class=\"token assign-left variable\">MESSAGE</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token builtin class-name\">echo</span> $line <span class=\"token operator\">|</span> <span class=\"token function\">cut</span> -d <span class=\"token builtin class-name\">:</span> -f <span class=\"token number\">5</span> <span class=\"token operator\">|</span> <span class=\"token function\">cut</span> -c <span class=\"token number\">2</span>-<span class=\"token variable\">)</span></span>\n    <span class=\"token assign-left variable\">DESCRIPTION</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token builtin class-name\">echo</span> $line <span class=\"token operator\">|</span> <span class=\"token function\">cut</span> -d <span class=\"token builtin class-name\">:</span> -f <span class=\"token number\">6</span> <span class=\"token operator\">|</span> <span class=\"token function\">cut</span> -c <span class=\"token number\">2</span>-<span class=\"token variable\">)</span></span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token variable\">$TYPE</span> <span class=\"token operator\">==</span> <span class=\"token string\">'warning'</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span>\n      <span class=\"token builtin class-name\">printf</span> <span class=\"token string\">\"<span class=\"token entity\" title=\"\\n\">\\n</span> 🚧  <span class=\"token variable\">$TYPE</span><span class=\"token entity\" title=\"\\n\">\\n</span>\"</span>\n      <span class=\"token comment\"># warning 타입은 오류메시지만 표시하고 커밋을 허용하고 싶다면 line 40~42 주석 해제.</span>\n      <span class=\"token comment\"># printf \"    $FILEPATH:$L:$C\\n\"</span>\n      <span class=\"token comment\"># printf \"    📌  $MESSAGE: - $DESCRIPTION\\n\"</span>\n      <span class=\"token comment\"># exit 0</span>\n    <span class=\"token keyword\">elif</span> <span class=\"token punctuation\">[</span> <span class=\"token variable\">$TYPE</span> <span class=\"token operator\">==</span> <span class=\"token string\">'error'</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span>\n      <span class=\"token builtin class-name\">printf</span> <span class=\"token string\">\"<span class=\"token entity\" title=\"\\n\">\\n</span> 🚨  <span class=\"token variable\">$TYPE</span><span class=\"token entity\" title=\"\\n\">\\n</span>\"</span>\n    <span class=\"token keyword\">fi</span>\n    <span class=\"token builtin class-name\">printf</span> <span class=\"token string\">\"    ✔ <span class=\"token variable\">$FILEPATH</span>:<span class=\"token variable\">$L</span>:<span class=\"token variable\">$C</span><span class=\"token entity\" title=\"\\n\">\\n</span>\"</span>\n    <span class=\"token builtin class-name\">printf</span> <span class=\"token string\">\"    📌 <span class=\"token variable\">$MESSAGE</span>: - <span class=\"token variable\">$DESCRIPTION</span><span class=\"token entity\" title=\"\\n\">\\n</span>\"</span>\n  <span class=\"token keyword\">done</span> <span class=\"token operator\">&lt;&lt;&lt;</span> <span class=\"token string\">\"<span class=\"token variable\">$RESULT</span>\"</span>\n\n  <span class=\"token builtin class-name\">printf</span> <span class=\"token string\">\"<span class=\"token entity\" title=\"\\n\">\\n</span> 🚑  커밋실패!! Swiftlint rule에 맞게 코드를 변경해주세요:)<span class=\"token entity\" title=\"\\n\">\\n</span>\"</span>\n  <span class=\"token builtin class-name\">exit</span> <span class=\"token number\">1</span>\n<span class=\"token keyword\">fi</span></code></pre></div>\n<p><img src=\"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/93b5d761-421d-47af-90aa-1c936256e91c/Screen_Shot_2021-10-15_at_5.05.17_AM.png\" alt=\"Screen Shot 2021-10-15 at 5.05.17 AM.png\"></p>\n<p>이제 팀의 rule을 무시한 무분별한 커밋을 방지하여, 일관된 코드 스타일을 적용해볼까요?</p>\n<p>커밋을 올바르게 완성하고 고생하셨습니다 박수도 많이 받구요 ㅎㅎㅎ</p>\n<p>여기까지 Swiftlint 힙하게 사용하기 였습니다!</p>\n<p>감사합니다:)</p>","frontmatter":{"title":"SwiftLint 힙하게 사용하기(with Git-Hook)","date":"October 15, 2021"}}},"pageContext":{"slug":"/Tools/swiftlint-힙하게-사용하기(with-git-hook)/","previous":{"fields":{"slug":"/Tools/2021-10-05-notion-글꼴-테마-바꾸기/"},"frontmatter":{"title":"Notion 글꼴 테마 바꾸기","category":"Tools","draft":false}},"next":null}}}