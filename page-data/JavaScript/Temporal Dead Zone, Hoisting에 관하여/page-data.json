{"componentChunkName":"component---src-templates-blog-post-js","path":"/JavaScript/Temporal Dead Zone, Hoisting에 관하여/","result":{"data":{"site":{"siteMetadata":{"title":"Noah's Dev Log","author":"[Noah]","siteUrl":"https://noah0316.github.io","comment":{"disqusShortName":"","utterances":"noah0316/noah0316.github.io"},"sponsor":{"buyMeACoffeeId":"q6PBeY92M"}}},"markdownRemark":{"id":"cef90d39-999a-57da-83fc-f957a981b940","excerpt":"이글은 원문을 기반으로 하여 내용을 덧붙여 쓴 글 입니다. 원문 : https://dmitripavlutin.com/javascript-variables-and-temporal-dead-zone/ 원문 : https://dmitripavlutin.com/variables-lifecycle-and-why-let-is-not-hoisted/ Temporal DeadZone, 줄여서 TDZ를 보기전에 Hoisting에 관하여 알아보자. Hoisting이란 ? Hoisting…","html":"<p>이글은 원문을 기반으로 하여 내용을 덧붙여 쓴 글 입니다.</p>\n<p>원문 : <a href=\"https://dmitripavlutin.com/javascript-variables-and-temporal-dead-zone/\">https://dmitripavlutin.com/javascript-variables-and-temporal-dead-zone/</a></p>\n<p>원문 : <a href=\"https://dmitripavlutin.com/variables-lifecycle-and-why-let-is-not-hoisted/\">https://dmitripavlutin.com/variables-lifecycle-and-why-let-is-not-hoisted/</a></p>\n<p>Temporal DeadZone, 줄여서 TDZ를 보기전에 Hoisting에 관하여 알아보자.</p>\n<h3 id=\"hoisting이란-\" style=\"position:relative;\"><a href=\"#hoisting%EC%9D%B4%EB%9E%80-\" aria-label=\"hoisting이란  permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Hoisting이란 ?</h3>\n<hr>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 550px;\">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 50.66666666666667%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA8klEQVQoz62S22qEMBCGff8HKRT6BKUoXtmVgl61CsJ2iYcbj4m6rMb8TaYHLGVlkQ7MTCA/X/5JYimlcC229q6FZYqYR50DuM5mEhjkGVItu6AEfOVHPKQ27tMn3LFHypfmjQTLF/hm4LcDUxddTefTgPLS7nc4zTPKskLbtBjH8587NH0r19ofIEtTvJ9O6DjXY6rPURVuAq3X1p6X3PoR5LCua+R5Dtu2EUURng8HeJ6HOI6Raueu68L3fTiOgzAMkSQJ6YIgQJZlv5wSUEoJrkc1UCEE9aqq0Pc9HVYUBXXGGOmMxux3XUeafx95zfgA4T0LjV7qhTcAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"hoisting papago\" title=\"hoisting papago\" src=\"/static/cffcf10865567dabf28a709e6cc66b42/dd45a/hoisting-papago.png\" srcset=\"/static/cffcf10865567dabf28a709e6cc66b42/5a46d/hoisting-papago.png 300w,\n/static/cffcf10865567dabf28a709e6cc66b42/dd45a/hoisting-papago.png 550w\" sizes=\"(max-width: 550px) 100vw, 550px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n    </span>\n<center>출처 : 네이버 파파고</center>\n<br>\n<p>Hoisting은 ”끌어올리다”라는 뜻을 가지고 있다.</p>\n<p>JavaSciprt에서의 Hoisting은 선언되지 않은 함수, 변수(var로 선언된), import구문을 상단으로 끌어올려 사용할 수 있게 하는 방식을 의미한다.</p>\n<p>다음 코드를 보자</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>variable<span class=\"token punctuation\">)</span> <span class=\"token comment\">// ReferenceError: variable is not defined</span></code></pre></div>\n<p>variable이라는 변수를 선언해주지 않았기 때문에 위의 코드는 당연히 참조에러를 발생시킨다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>variable<span class=\"token punctuation\">)</span> <span class=\"token comment\">// undefined</span>\n<span class=\"token keyword\">var</span> variable <span class=\"token operator\">=</span> <span class=\"token number\">10</span></code></pre></div>\n<p>위의 코드는 undefined가 출력된다.. 자바스크립트 엔진은 내부적으로 위의 코드를 다음과 같이 해석한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> variable\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>variable<span class=\"token punctuation\">)</span> <span class=\"token comment\">// undefined</span>\nvariable <span class=\"token operator\">=</span> <span class=\"token number\">10</span></code></pre></div>\n<p>해석과정에서 variable에 대한 선언은 이루어져있는데 값에 대한 정의가 이루어져있지 않아 undefined가 된다.</p>\n<p>이처럼 자바스크립트는 해석과정에서 변수(var로 선언된), 함수, import구문을 실행 context의 최상단으로 끌어올려 undefined를 할당한다.</p>\n<p>실행 context에 대한 설명은 아래주소를 참조하세요 :)</p>\n<p><a href=\"https://jong-hui.github.io/devlog/2019/11/13/execution-context/\">JS 문법의 문맥, 실행 context</a></p>\n<p>함수도 마찬가지이다. (정확히 말하자면 함수 선언식)</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">sayHi</span><span class=\"token punctuation\">(</span><span class=\"token string\">'noah'</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">sayHi</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>name<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> Says hi~</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>위의 코드도 자바스크립트 엔진이 다음과 같이 hoisting하여 해석한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">sayHi</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>name<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> Says hi~</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token function\">sayHi</span><span class=\"token punctuation\">(</span><span class=\"token string\">'noah'</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>import구문 또한 마찬가지이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">sayHi</span><span class=\"token punctuation\">(</span><span class=\"token string\">'noah'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> sayHi <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./myModule'</span></code></pre></div>\n<p>hoisting은 되지만 TDZ가 생성되어 접근할 수 없어 Reference Error(참조에러)를 던지는 친구들이 있다.</p>\n<h3 id=\"temporal-dead-zonetdz-이란\" style=\"position:relative;\"><a href=\"#temporal-dead-zonetdz-%EC%9D%B4%EB%9E%80\" aria-label=\"temporal dead zonetdz 이란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Temporal Dead Zone(TDZ) 이란?</h3>\n<hr>\n<p>TDZ에 영향을 받는 구문은 크게</p>\n<ul>\n<li>const 변수</li>\n<li>let 변수</li>\n<li>class 구문</li>\n<li>constructor() 내부의 super()</li>\n<li>기본 함수 매개변수</li>\n</ul>\n<p>가 있다.</p>\n<p>const변수 선언부터 먼저 보게 되면 다음과 같은 코드는 에러를 발생시키지 않는다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> number <span class=\"token operator\">=</span> <span class=\"token number\">123</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>number<span class=\"token punctuation\">)</span> <span class=\"token comment\">// 123</span></code></pre></div>\n<p>하지만 var로 선언된 변수와 달리 const로 선언한 변수는 다음과 같은 코드에서 Undefined를 출력하는 것이 아닌 Reference Error를 발생시킨다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>number<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> number <span class=\"token operator\">=</span> <span class=\"token number\">123</span> <span class=\"token comment\">// ReferenceError: Cannot access 'number' before initialization</span></code></pre></div>\n<h3 id=\"var로-선언된-변수는\" style=\"position:relative;\"><a href=\"#var%EB%A1%9C-%EC%84%A0%EC%96%B8%EB%90%9C-%EB%B3%80%EC%88%98%EB%8A%94\" aria-label=\"var로 선언된 변수는 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>var로 선언된 변수는</h3>\n<hr>\n<p>변수는 크게 3단계의 라이프사이클을 가진다.</p>\n<p>선언 -> 초기화 -> 할당</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1200px;\">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 91.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAABYlAAAWJQFJUiTwAAAC3UlEQVQ4y3VUy27TQBTt9yLWsEBCrJDgAxB7itSyKipQqqpCgrZQtUraNKFpyMN5v+PEie15H+7YjtOkMNLRnRl7Zs45c+9sgZoxBmYZtYEWCkopMMbg+z5c14WUEpPJBJ7nRX07H4Yh0vXGRP2tqJMMjNKQlTHC2x5yNzc4Pj7G3t4etrffIZ/PY3d3B/v7+8jlcjg4+BLN2aa1Tjfe2jwBiiKxVMQiAjHdbEbj4dySYXQCDWaMJEgBpgRCFUeurewAnUoWjpNB3UliPZv2a9VL9L0+RMIyZajp2PtQOmbWL2dwVf2Gbq+ERuMazVYerSaBYrtVQHNYwrXzHQq0oVl6+K+WzPdKF+j6LbizPurtPJrdW7S6RXToADsWoQ/nzxl8HaxL9gWDJFZLCCWjmx+5bVzcfUWx/AN3ldMUxfIJ7qpnKBSOkPl9CJmQSCUHkkeb8CV0HAXJX3Afw/kAjluFM12h5lbQ9Tq0VpBF+l7aUPO4IWkSnh9ATgOooQ/tcUTGWOm8gadXj/G68AIv88/wqvAcT7KPcNj7GKcOHZymjZW84CxlJ2QMTpBGIuAKzmCOy2YFmWYtxUWjjFJviFAIumW5fsthIjlC4qH9idGmtw5DayAxnACD8QojGjd6GsWGvRAV3eNKstDo+JSDPoN2QxgZe7LwDXpDEyX4yGVwyYbpnGNGsH0pFeod87BSLBObnNZcTYttOdkK57RxqS7R7ElUWwK1toDTkfeiRKlhvdYxw1XahLRZ7AUj3xhF6w2nuREx6Y4Zpj7H2BMp3AXHwKW5ebjycCl5QZJHIb0i9ILIBckORFL4cZ63+wZvdiR2Dji2P3G8/8zx9oPA+Y1J/4skmyQhffJixokVJ19CDsVkXJI6etgwmGgc/ZL4ec1xkhU4JRyfC7JDR9/15uMw5wHdrIjShun4gbA3bxEIygBtfRIPoAkePSBcifW0+W9Np7WdyNIb0ayv/wvc6GF/JP26WwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"var\" title=\"var\" src=\"/static/9edccb0975ba87abf535462e3b31c02d/c1b63/var.png\" srcset=\"/static/9edccb0975ba87abf535462e3b31c02d/5a46d/var.png 300w,\n/static/9edccb0975ba87abf535462e3b31c02d/0a47e/var.png 600w,\n/static/9edccb0975ba87abf535462e3b31c02d/c1b63/var.png 1200w,\n/static/9edccb0975ba87abf535462e3b31c02d/e8814/var.png 1392w\" sizes=\"(max-width: 1200px) 100vw, 1200px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n    </span>\n<p>var로 선언된 변수는 선언과 초기화를 동시에 진행합니다. 위에서 보았던 것처럼 var로 선언된 변수는 선언과 동시에 undefined로 호이스 팅되어 선언과 초기화가 동시에 진행된다.</p>\n<h3 id=\"let-const으로-선언된-변수는\" style=\"position:relative;\"><a href=\"#let-const%EC%9C%BC%EB%A1%9C-%EC%84%A0%EC%96%B8%EB%90%9C-%EB%B3%80%EC%88%98%EB%8A%94\" aria-label=\"let const으로 선언된 변수는 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>let, const으로 선언된 변수는</h3>\n<hr>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1200px;\">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 93.66666666666667%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAABYlAAAWJQFJUiTwAAADP0lEQVQ4y41Ua2/jRBTt/4ZPSICQ+ICQ+IqgNG216XZpxGpRGyRo+FYoS7N5NfEjXjvttk3j+DFPO4c74zhsCkhMezR3xvGZc+894x3QWK1WMH/r//8cRVH8Y69+18xm7NhgvSiZQnl5g9nAwy+dc7TbbezvN3B2eorO+Tkae3v47eICv3Y6aJ+doTQHrP4mM/NOHax3AK6huEAcx0iWSyzMzBhyIZBxjjhNMac9E9fZrN7jsISiUEgEszMvFWSpoVclNP1USwEZ+JBhABm9hbIIbcxpP3cnWCZxRW4UbtTVJz05sfA9lIsFRBQRwdRChCH41Ie4mdlnJcX2/bKsFDJBqeQppcGQ8hwpy5DQ2qiOiSAe9iF8F5LIhedWseeA03ox6GFhMqB6bmr4SKd0e2/wx+Ulun920XNCDNwIs9kMN3fvcDsN0Goe4eDbXTzfP0Bzbx8H3+yi9ewIkevh2nUQUQYbwvv5Ay5e/47+VRdBfwx/5GFKCIMQ4U2E69BB8+UxdpsNHJ48Q+PFIb47ati9vj/E2JnYwzeEQkrkOaMUJZbUTakkuBIodInRfITXd5cYJn30kzcYpn2M0gFG2QDX6Qjdhys4C4c898Q2IhO45wpzoc0zQtWU0XIAN3HgLh1MFtdw4jFhYuEvPXipCycZVz5erZsitMIjNSA3yiQHZxyMFAtaZ4oRmY9X4Su88I/RmrZwMv2+ioOWfZZItnbFWmFJizu6Jbe5RJplUI855EMGTYrr8bXzFT6++gBfDD7F572P8En3Q3w5/GzrCm4ZmymOggxtTC1WFSSZPKO6jt4yjENB4NQgtsEkEhgGDPM8t+oM5079OZiLArekUuUCZcxtkc24m6/gRyW8UKE3JnJPYTJVGLoKTiAxe1civC1RZ2oVykJTdxkY1ZIrA6olxfZKMiIJOKIHtgbHbG7AMKP1iBTep1sKK+ZEagKR0aXXRFKowu7Xl/GHc43DHyWO2wLNU2nj521NZVp74v0aatq85xKPvCJUCZHSAYbQWMG89LKjiUjg5GdORMLGxz9Rncmruiy2CU3KpinaNIViYRpD6Ro71QAM9BOQAE3OIKttf2D/xzCZ/Ruefr3/AhlJm/TdFwfuAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"let\" title=\"let\" src=\"/static/0d6208436219e3b022a6c152572d803c/c1b63/let.png\" srcset=\"/static/0d6208436219e3b022a6c152572d803c/5a46d/let.png 300w,\n/static/0d6208436219e3b022a6c152572d803c/0a47e/let.png 600w,\n/static/0d6208436219e3b022a6c152572d803c/c1b63/let.png 1200w,\n/static/0d6208436219e3b022a6c152572d803c/52ab5/let.png 1420w\" sizes=\"(max-width: 1200px) 100vw, 1200px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n    </span>\n<p>let은 선언과 초기화가 분리되어 그 사이에 TDZ가 생성되고,</p>\n<p>const는 선언과 초기화가 동시에 진행되어지지만 선언이전에 TDZ가 생성되어 접근하면 Reference Error가 발생한다.</p>\n<h3 id=\"함수-선언식은\" style=\"position:relative;\"><a href=\"#%ED%95%A8%EC%88%98-%EC%84%A0%EC%96%B8%EC%8B%9D%EC%9D%80\" aria-label=\"함수 선언식은 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>함수 선언식은</h3>\n<hr>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1200px;\">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 58.666666666666664%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAAB5klEQVQoz41SXW/aQBDk//+RvlSkLwSTxpgGKkEdHFoR0qpqKBA+GoIxYGPf3sd0fUahIX3ISaPd1dmzM7dbAh+jNHQsYKSG2ROMUAUSOtaZhE4JUAZhGGK5XIKIkCQJ4jiG5TEGJZuQguiMQb0Z6GYKCqaQ/QXo29zWgmtx/YDUHwM/12jUXJTPygi6ATzPQxAEllBrjVLOWtDDdi9uTIGiLd56jgo5iSlDqgjZP0glgbTEKpxjtJhi/Gf2ChPGjvbcX1vSZ0LBBIol5xe5dKWU/eDx/g7l8w9ouC5c5xz1ahX1Wg11x4HH0W024Q+G1mDu5mj5VL4uOg66TdyOl9jrFWbr35gznrYzPEYTPETD/H1w1e4ikfKlwlydhTnEg8LJaMg/9OD7XThuG/WrDhqtL7j81EG95ePWb6HiNSAPgygVM+A3FHsQ2yYlQUYxtI25zv5oAf9+gK/jH7gZ5fiOHuc9zr3+HX4tQqYydrDPlhPewTBT2PLObaIIa9611dMKu93W3lebwLsKUL4A3teK/Ozy5YStZXOQuhWEdUbYcIy2G4swWiNOYlat4F0TKs0UH9spnM+ZzS/aAoLfTrCrV1NOKD2xrCBz21rZFQJyyBOQJYtFCqnVQeEbFzcXoP+D08X+C3TmkfYvLEGNAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"func\" title=\"func\" src=\"/static/36d3480708397e4ce923bccd4b2b7c52/c1b63/func.png\" srcset=\"/static/36d3480708397e4ce923bccd4b2b7c52/5a46d/func.png 300w,\n/static/36d3480708397e4ce923bccd4b2b7c52/0a47e/func.png 600w,\n/static/36d3480708397e4ce923bccd4b2b7c52/c1b63/func.png 1200w,\n/static/36d3480708397e4ce923bccd4b2b7c52/d7ceb/func.png 1446w\" sizes=\"(max-width: 1200px) 100vw, 1200px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n    </span>\n<p>선언, 초기화, 할당을 동시에 진행한다.</p>\n<p>Temporal Dead Zone에 접근하면 참조에러를 발생하는데 Temporal Dead Zone은 다음과 같다.</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1000px;\">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 117.00000000000001%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAXABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAEF/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhADEAAAAd2UABJRb//EABcQAQADAAAAAAAAAAAAAAAAAAEAECD/2gAIAQEAAQUC0wr/xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/AR//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/AR//xAAUEAEAAAAAAAAAAAAAAAAAAAAw/9oACAEBAAY/Ah//xAAcEAACAgIDAAAAAAAAAAAAAAAAEQEQITFBYfD/2gAIAQEAAT8hnyFPdSYWnTcGQj//2gAMAwEAAgADAAAAEEPA/P/EABURAQEAAAAAAAAAAAAAAAAAABEg/9oACAEDAQE/EGP/xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/EB//xAAeEAEAAgICAwEAAAAAAAAAAAABABEhMWFxEEFRgf/aAAgBAQABPxAWFWR8m28tfk51cBRYa21ASw6VDR1KEwce5YW4OPD/2Q==&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"tdz\" title=\"tdz\" src=\"/static/dfec2c7306e61a4fbc590903554352db/a2510/tdz.jpg\" srcset=\"/static/dfec2c7306e61a4fbc590903554352db/f93b5/tdz.jpg 300w,\n/static/dfec2c7306e61a4fbc590903554352db/b4294/tdz.jpg 600w,\n/static/dfec2c7306e61a4fbc590903554352db/a2510/tdz.jpg 1000w\" sizes=\"(max-width: 1000px) 100vw, 1000px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n    </span>\n<p>TDZ에 영향을 받는 구문들은 생성되는 과정에서 TDZ가 생성되는데 TDZ에 접근하게 되면 ReferenceError가 발생한다.</p>\n<p>따라서 TDZ에 있는 number변수에 접근하면 ReferenceError가 발생한다.</p>\n<p>let으로 선언된 변수도 마찬가지이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>number<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">let</span> number <span class=\"token operator\">=</span> <span class=\"token number\">123</span> <span class=\"token comment\">// ReferenceError</span></code></pre></div>\n<p>class구문도 선언 전에는 class를 사용할 수 없다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// Does not work!</span>\n<span class=\"token keyword\">const</span> myNissan <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Car</span><span class=\"token punctuation\">(</span><span class=\"token string\">'red'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// throws `ReferenceError`</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Car</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">color</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>color <span class=\"token operator\">=</span> color\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>위의 코드에서는 TDZ에 접근했기 때문에 Reference Error가 발생했는데 TDZ에 접근하지 않게 하기 위해서는 코드를 다음과 같이 바꿔야한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Car</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">color</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>color <span class=\"token operator\">=</span> color\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// Works!</span>\n<span class=\"token keyword\">const</span> myNissan <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Car</span><span class=\"token punctuation\">(</span><span class=\"token string\">'red'</span><span class=\"token punctuation\">)</span>\nmyNissan<span class=\"token punctuation\">.</span>color <span class=\"token comment\">// => 'red'</span></code></pre></div>\n<p>다음으로 constructor() 내부의 super() 메소드를 살펴보자.</p>\n<p>부모 클래스를 상속받은 경우,</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">MuscleCar</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Car</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">color<span class=\"token punctuation\">,</span> power</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>power <span class=\"token operator\">=</span> power<span class=\"token punctuation\">;</span> <span class=\"token comment\">// Access to TDZ</span>\n    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>color<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// Does not work!</span>\n<span class=\"token keyword\">const</span> myCar <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">MuscleCar</span><span class=\"token punctuation\">(</span>‘blue’<span class=\"token punctuation\">,</span> ‘<span class=\"token number\">300</span>HP’<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// `ReferenceError`</span></code></pre></div>\n<p>constructor() 즉 생성자 안에서 super()가 호출되기 전까지는 <code class=\"language-text\">this</code>바인딩은 TDZ에 있다.</p>\n<p>TDZ는 인스턴스를 초기화하기 위해서는 부모클래스의 생성자를 호출한뒤 this값을 사용하도록 유도한다.</p>\n<p>따라서 부모 클래스의 생성자를 호출한 뒤에 자식 클래스에서 this 값을 변경할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">MuscleCar</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Car</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">color<span class=\"token punctuation\">,</span> power</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>color<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>power <span class=\"token operator\">=</span> power\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// Works!</span>\n<span class=\"token keyword\">const</span> myCar <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">MuscleCar</span><span class=\"token punctuation\">(</span><span class=\"token string\">'blue'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'300HP'</span><span class=\"token punctuation\">)</span>\nmyCar<span class=\"token punctuation\">.</span>power <span class=\"token comment\">// => '300HP'</span></code></pre></div>\n<p>다음으로 Default Function Parameter 기본 함수를 살펴보자</p>\n<p>기본 매개변수는 전역(global)과 함수 스코프 사이의 중간 스코프(intermidiate scope)에 위치한다. 기본 매개변수도 TDZ 제한이 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> a <span class=\"token operator\">=</span> <span class=\"token number\">2</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">square</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">a <span class=\"token operator\">=</span> a</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Access to TDZ</span>\n  <span class=\"token keyword\">return</span> a <span class=\"token operator\">*</span> a\n<span class=\"token punctuation\">}</span>\n<span class=\"token comment\">// Does not work!</span>\n<span class=\"token function\">square</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// throws `ReferenceError`</span></code></pre></div>\n<p>기본 매개변수 <code class=\"language-text\">a</code>는 선언 전에 <code class=\"language-text\">a = a</code> 표현식의 오른쪽에서 사용되었다. <code class=\"language-text\">a</code> 가 초기화되어 있지 않아 TDZ에 있는데</p>\n<p>참조하려 해서에서 참조 에러가 발생한다.</p>\n<p>기본 매개변수는 선언 및 초기화 다음에 사용되어야 한다. 이 경우 <code class=\"language-text\">init</code>과 같은 다른 변수로 선언하여 사용한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> init <span class=\"token operator\">=</span> <span class=\"token number\">2</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">square</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">a <span class=\"token operator\">=</span> init</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> a <span class=\"token operator\">*</span> a\n<span class=\"token punctuation\">}</span>\n<span class=\"token comment\">// Works!</span>\n<span class=\"token function\">square</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// => 4</span></code></pre></div>\n<p>마지막으로 스코프 안에서의 TDZ의 동작을 살펴보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">doSomething</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">someVal</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Function scope</span>\n  <span class=\"token keyword\">typeof</span> variable<span class=\"token punctuation\">;</span> <span class=\"token comment\">// => undefined</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>someVal<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// Inner block scope</span>\n    <span class=\"token keyword\">typeof</span> variable<span class=\"token punctuation\">;</span> <span class=\"token comment\">// throws `ReferenceError`</span>\n    <span class=\"token keyword\">let</span> variable<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">doSomething</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>이 코드에는 2개의 스코프가 존재한다.</p>\n<ol>\n<li>함수 스코프</li>\n<li><code class=\"language-text\">let</code> 변수가 선언된 내부 블록 스코프</li>\n</ol>\n<p>함수 스코프에서 <code class=\"language-text\">typeof variable</code>는 <code class=\"language-text\">undefined</code>로 할당된다. 여기서는 <code class=\"language-text\">let variable</code> 구문의 TDZ에 영향을 주지 않는다.</p>\n<p><code class=\"language-text\">typeof variable</code> 구문의 내부 스코프에서는 선언 전에 변수를 사용하면 <code class=\"language-text\">ReferenceError: Cannot access &#39;variable&#39; before initialization</code> 에러가 발생한다.</p>\n<p>따라서 TDZ는 현재 if문 내부의 블록 스코프에만 존재한다.</p>\n<h3 id=\"tdz\" style=\"position:relative;\"><a href=\"#tdz\" aria-label=\"tdz permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>TDZ</h3>\n<p>는 선언전에 변수를 사용하여 발생하게 되는 위험을 줄일 수 있어 안전한 코딩을 할 수 있게 해준다는 것을 알 수 있었고,</p>\n<h3 id=\"hoisting\" style=\"position:relative;\"><a href=\"#hoisting\" aria-label=\"hoisting permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Hoisting</h3>\n<p>을 이용해 나타 날 수 있는 이해하기 어려운 코드, 의도치 않은 결과를 피하기 위해 변수 선언시 var 대신 let, const를 사용해야 함을 알 수 있었다 :)</p>","frontmatter":{"title":"Temporal Dead Zone, Hoisting에 관하여","date":"November 04, 2020"}}},"pageContext":{"slug":"/JavaScript/Temporal Dead Zone, Hoisting에 관하여/","previous":null,"next":null}}}